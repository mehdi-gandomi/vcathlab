(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{719:function(t,e,n){"use strict";n.r(e);var r=n(62),o=n.n(r),s=n(774);function a(t,e,n,r,o,s,a){try{var i=t[s](a),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(r,o)}var i={components:{},mixins:[n(775).a],data:function(){return{form:new s.a({name:""}),model:"Modules\\User\\Models\\ComplexCaseCategory",locale:Iracode.$i18n.locale,inputs:{name:{type:"vs-input"}}}},props:{},computed:{},created:function(){},mounted:function(){},methods:{onSubmit:function(t){var e,n=this;return(e=o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.form.post("/user/api/complex_case_categories");case 2:e.sent.success&&(Iracode.success(n.__("Complexcasecategory Created Successfully")),"close"==t?n.$router.push("/user/complex_case_categories"):n.form.reset());case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var s=e.apply(t,n);function i(t){a(s,r,o,i,c,"next",t)}function c(t){a(s,r,o,i,c,"throw",t)}i(void 0)}))})()}}},c=n(53),u=Object(c.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-base"},[n("vx-card",{scopedSlots:t._u([{key:"actions",fn:function(){return[n("vs-button",{attrs:{color:"primary",to:"/user/complex_case_categories",type:"filled"}},[t._v(t._s(t.__("Back")))])]},proxy:!0}])},[t._v(" "),n("form",{on:{submit:t.onSubmit}},[n("vs-row",{staticClass:"mb-6",attrs:{"vs-type":"flex","vs-w":"12"}},[n("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"6"}},[n("vs-row",{attrs:{"vs-type":"flex","vs-w":"12"}},[n("vs-col",{staticClass:"justify-end pr-5",attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"3"}},[n("span",[t._v(t._s(t.__("Name")))]),t._v(" "),n("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),n("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"9"}},[n(t.inputs.name.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("name"),"danger-text":t.validationError("name"),name:"name",type:"text"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1)],1)],1),t._v(" "),n("vs-row",{staticClass:"mb-6",attrs:{"vs-type":"flex","vs-w":"12"}}),t._v(" "),n("div",{staticClass:"flex justify-end mt-16"},[n("div",{staticClass:"flex"},[n("vs-button",{staticClass:"mr-3 mb-2",attrs:{color:"success"},on:{click:function(){return t.onSubmit("new")}}},[t._v(t._s(t.__("Save and new")))]),t._v(" "),n("vs-button",{staticClass:"mr-3 mb-2",attrs:{color:"success"},on:{click:function(){return t.onSubmit("close")}}},[t._v(t._s(t.__("Save and close")))]),t._v(" "),n("vs-button",{staticClass:"mb-2",attrs:{color:"warning"},on:{click:function(e){return t.form.reset()}}},[t._v(t._s(t.__("Clear")))])],1)])],1)])],1)}),[],!1,null,null,null);e.default=u.exports},774:function(t,e,n){"use strict";var r=n(536),o=n.n(r);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.a=function t(e){return s(this,t),new o.a(e,{http:window.Iracode.getHttp()})}},775:function(t,e,n){"use strict";var r=n(62),o=n.n(r);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e,n,r,o,s,a){try{var i=t[s](a),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var s=t.apply(e,n);function a(t){c(s,r,o,a,i,"next",t)}function i(t){c(s,r,o,a,i,"throw",t)}a(void 0)}))}}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a={data:function(){var t=this;return{uploadServer:{url:window.config.uploadBasePath,timeout:36e6,load:function(t,e,n,r,o,s){t.indexOf("/null")>-1&&(console.log("source",t),o());var a=new Request(t);fetch(a).then((function(t){t.blob().then((function(t){e(t)}))}))},process:{url:"/process",method:"POST",headers:{Authorization:"Bearer ".concat(this.$store.state.auth.accessToken),"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},withCredentials:!1,onload:function(e){return"object"!=l(e)&&(e=JSON.parse(e)),console.log(t.inputs[e.field_name],e.field_name),t.inputs[e.field_name].filepond_options["allow-multiple"]?t.form[e.field_name].push(e.key):t.form[e.field_name]=e.key,e.key},onerror:function(t){return t.data},ondata:function(e){return e.append("model",t.model),t.$route.params.id&&e.append("model_id",t.$route.params.id),e}},revert:"revert",restore:"restore",fetch:"fetch"}}},methods:{getRelationLabel:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];console.log(this,e)},onRelationSelect:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";this.inputs[t].selected=e,this.form[t]=e[n]},handleFilePondInit:function(){console.log("FilePond has initialized")},onSelect:function(t,e){this.inputs[t].selected=e,this.form[t]=e.value},onRelationSearch:function(t,e,n){var r=this;return u(o.a.mark((function s(){var a,i,c,u;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(""!=e){o.next=2;break}return o.abrupt("return");case 2:return n(!0),a=r.inputs[t],i={},a&&(i["filter[".concat(a.titleField,"]")]=e),o.next=8,r.$http.get(r.inputs[t].searchUrl,{params:i});case 8:if(c=o.sent,!(u=c.data).success){o.next=13;break}return r.inputs[t].options=u.data.items,o.abrupt("return",n(!1));case 13:r.inputs[t].options=[];case 14:case"end":return o.stop()}}),s)})))()},hasValidationError:function(t){return!(!this.form.errors||!this.form.errors.has(t))||void 0},validationError:function(t){return this.form.errors?this.form.errors.first(t):void 0},onSelectTableSearch:function(t,e){var n=this;return u(o.a.mark((function r(){var s,i;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.length){r.next=6;break}return r.next=3,n.$http.post("".concat(window.config.path_prefix,"/api/get_select_table"),a(a({},n.inputs[t].select_table_options),{},{search:e}));case 3:s=r.sent,i=s.data,n.inputs[t].options=i.data;case 6:case"end":return r.stop()}}),r)})))()}},created:function(){var t=this;return u(o.a.mark((function e(){var n,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("before create called"),e.t0=o.a.keys(t.inputs);case 2:if((e.t1=e.t0()).done){e.next=14;break}if(n=e.t1.value,"relation"!==t.inputs[n].field_type){e.next=12;break}return console.log(t.inputs[n]),e.next=8,t.$http.get(t.inputs[n].searchUrl);case 8:r=e.sent,(s=r.data).success&&(t.inputs[n].options=s.data.items),t.inputs[n].options.length&&(Array.isArray(t.inputs[n].selected)||(t.form[n]=t.inputs[n].options[0].id,t.inputs[n].selected=t.inputs[n].options[0]));case 12:e.next=2;break;case 14:case"end":return e.stop()}}),e)})))()}}}}]);