(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1079:function(t,e,n){"use strict";n.r(e);var s=n(62),a=n.n(s);n(780);function r(t,e,n,s,a,r,o){try{var i=t[r](o),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(s,a)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(s,a){var o=t.apply(e,n);function i(t){r(o,s,a,i,c,"next",t)}function c(t){r(o,s,a,i,c,"throw",t)}i(void 0)}))}}var i={components:{},mixins:[n(781).a],data:function(){return{tableKey:0,form:{patient_id:0,dia:[],hr:[],sys:[],Age:"",Sex:1,height:180,weight:80},patient:{name:"",code:"1136"},result:{},body:{},downloadBtnKey:0,patientResult:{},model:"Modules\\User\\Models\\CtCase",locale:Iracode.$i18n.locale,inputs:{Weight:{type:"vs-input"},Height:{type:"vs-input"},code:{type:"vs-input"},name:{type:"vs-input"},physician:{type:"vs-input"},Age:{type:"vs-input"},Sex:{type:"vs-radio"},patient_id:{field_type:"text",type:"vs-input",options:[],selected:{},foreign_key:"patient_id",relation_name:"patient",searchUrl:"/user/api/patients",titleField:"name"}}}},props:{},computed:{},created:function(){for(var t=0;t<14;t++)this.form.dia[t]="",this.form.sys[t]="",this.form.hr[t]=""},mounted:function(){},methods:{calculate:function(){var t=this;return o(a.a.mark((function e(){var n,s,r,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.body={},(n=t.patient).age=t.form.Age,n.sex=t.form.Sex,n.weight=t.form.weight,n.height=t.form.height,n.hospital="",Iracode.loading(),e.next=10,t.$http.post("/user/api/patients",n);case 10:return s=e.sent,r=s.data,t.patientResult=r,t.form.patient_id=r.data.id,e.next=16,t.$http.post("/user/api/aobp_calculations",t.form);case 16:o=e.sent,i=o.data,Iracode.close_loading(),console.log(i),location.href="/user/aobp/result/"+i.data.id;case 21:case"end":return e.stop()}}),e)})))()},onPaste:function(t,e,n){n.preventDefault();var s=n.clipboardData.getData("text").trim().split(/\r?\n */).map((function(t){return t.split(/\t/)}));if(s.length>1){console.log(s);for(var a=0;a<14;a++)null!=s[a]&&(this.form[t][a]=s[a][0]);this.tableKey++}else this.form[t][e]=n.clipboardData.getData("text").trim(),this.tableKey++},onSubmit:function(t){var e=this;return o(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.form.post("/user/api/ct_cases");case 2:n.sent.success&&(Iracode.success(e.__("Ctcase Created Successfully")),"close"==t?e.$router.push("/user/ct_cases"):e.form.reset());case 4:case"end":return n.stop()}}),n)})))()}}},c=(n(944),n(946),n(53)),l=Object(c.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-base"},[n("vx-card",[n("h2",{staticStyle:{"text-align":"center",padding:"2rem",border:"1px solid #000"}},[t._v("Automatic Office Blood Pressure (AOBP)")]),t._v(" "),n("form",{on:{submit:t.onSubmit}},[n("div",[n("h4",{staticClass:"gray"},[t._v("Patient Information:")]),t._v(" "),n("vs-row",{staticClass:"mb-6 m-0",attrs:{"vs-type":"flex","vs-w":"12"}},[n("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"4","vs-sm":"6","vs-xs":"12"}},[n("div",{staticClass:"flex text-left"},[n("span",[t._v(t._s(t.__("Name")))]),t._v(" "),n("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),n(t.inputs.name.type,{tag:"component",staticStyle:{width:"250px","margin-left":"1rem"},attrs:{danger:t.hasValidationError("name"),"danger-text":t.validationError("name"),name:"name",type:"text"},model:{value:t.patient.name,callback:function(e){t.$set(t.patient,"name",e)},expression:"patient.name"}})],1),t._v(" "),n("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"2","vs-sm":"6","vs-xs":"12"}},[n("div",{staticClass:"flex text-left"},[n("span",[t._v(t._s(t.__("Code")))]),t._v(" "),n("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),n(t.inputs.code.type,{tag:"component",staticStyle:{width:"120px","margin-left":"1rem"},attrs:{danger:t.hasValidationError("code"),"danger-text":t.validationError("code"),name:"code",type:"text"},model:{value:t.patient.code,callback:function(e){t.$set(t.patient,"code",e)},expression:"patient.code"}})],1),t._v(" "),n("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"3","vs-sm":"6","vs-xs":"6"}},[n("div",{staticClass:"flex text-left"},[n("span",[t._v(t._s(t.__("Age")))]),t._v(" "),n("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),n(t.inputs.Age.type,{tag:"component",staticStyle:{width:"80px","margin-left":"1rem"},attrs:{danger:t.hasValidationError("Age"),"danger-text":t.validationError("Age"),name:"Age",type:"number"},model:{value:t.form.Age,callback:function(e){t.$set(t.form,"Age",e)},expression:"form.Age"}})],1),t._v(" "),n("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"3","vs-sm":"6","vs-xs":"12"}},[n("div",{staticClass:"flex text-left"},[n("span",[t._v(t._s(t.__("Sex")))]),t._v(" "),n("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),n("div",{staticStyle:{display:"flex","justify-content":"space-around",width:"100%","margin-top":"0.5rem","margin-left":"1.5rem"}},[n("vs-radio",{attrs:{"vs-name":"Sex","vs-value":"1"},model:{value:t.form.Sex,callback:function(e){t.$set(t.form,"Sex",e)},expression:"form.Sex"}},[t._v("Male")]),t._v(" "),n("vs-radio",{staticClass:"ml-4",attrs:{"vs-name":"Sex","vs-value":"0"},model:{value:t.form.Sex,callback:function(e){t.$set(t.form,"Sex",e)},expression:"form.Sex"}},[t._v("Female")])],1)])],1),t._v(" "),n("vs-row",{staticClass:"mb-6 m-0",attrs:{"vs-type":"flex","vs-w":"12"}},[n("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"6","vs-sm":"6","vs-xs":"12"}},[n("div",{staticClass:"flex text-left"},[n("span",[t._v(t._s(t.__("Weight")))]),t._v(" "),n("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),n("div",{staticClass:"flex",staticStyle:{"align-items":"center"}},[n(t.inputs.Weight.type,{tag:"component",staticStyle:{width:"100px","margin-left":"1rem"},attrs:{danger:t.hasValidationError("weight"),"danger-text":t.validationError("weight"),name:"weight",type:"text"},model:{value:t.form.weight,callback:function(e){t.$set(t.form,"weight",e)},expression:"form.weight"}}),t._v(" "),n("span",{staticClass:"ml-2"},[t._v("\n                                        kg\n                                    ")])],1)]),t._v(" "),n("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"6","vs-sm":"6","vs-xs":"12"}},[n("div",{staticClass:"flex text-left"},[n("span",[t._v(t._s(t.__("Height")))]),t._v(" "),n("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),n("div",{staticClass:"flex",staticStyle:{"align-items":"center"}},[n(t.inputs.Height.type,{tag:"component",staticStyle:{width:"100px","margin-left":"1rem"},attrs:{danger:t.hasValidationError("height"),"danger-text":t.validationError("height"),name:"Height",type:"text"},model:{value:t.form.height,callback:function(e){t.$set(t.form,"height",e)},expression:"form.height"}}),t._v(" "),n("span",{staticClass:"ml-2"},[t._v("\n                                        cm\n                                    ")])],1)])],1)],1),t._v(" "),n("div",{staticClass:"table-wrap container"},[n("vs-table",{key:t.tableKey,attrs:{stripe:"",noDataText:""}},[n("template",{slot:"thead"},[n("vs-th",[t._v("\n                        SYS\n                        ")]),t._v(" "),n("vs-th",[t._v("\n                        DIA\n                        ")]),t._v(" "),n("vs-th",[t._v("\n                        HR\n                        ")])],1),t._v(" "),t._l(14,(function(e,s){return n("vs-tr",{key:s},[n("vs-td",[n("vs-input",{on:{paste:function(e){return t.onPaste("sys",s,e)}},model:{value:t.form.sys[s],callback:function(e){t.$set(t.form.sys,s,e)},expression:"form.sys[indextr]"}})],1),t._v(" "),n("vs-td",[n("vs-input",{on:{paste:function(e){return t.onPaste("dia",s,e)}},model:{value:t.form.dia[s],callback:function(e){t.$set(t.form.dia,s,e)},expression:"form.dia[indextr]"}})],1),t._v(" "),n("vs-td",[n("vs-input",{on:{paste:function(e){return t.onPaste("hr",s,e)}},model:{value:t.form.hr[s],callback:function(e){t.$set(t.form.hr,s,e)},expression:"form.hr[indextr]"}})],1)],1)}))],2)],1),t._v(" "),n("div",[n("div",{staticClass:"flex align-items-center justify-content-center",staticStyle:{"justify-content":"center"}},[n("vs-button",{staticClass:"mr-3 mb-2",staticStyle:{"font-size":"20px"},attrs:{color:"success"},on:{click:t.calculate}},[t._v(t._s(t.__("Calculate")))]),t._v(" "),t.body.link?n("div",{staticClass:"mt-2"},[n("a",{key:t.downloadBtnKey,staticClass:"mr-3  vs-component vs-button vs-button-success vs-button-filled download-btn",staticStyle:{"font-size":"20px"},attrs:{target:"_blank",rel:"noopener",href:t.body.link}},[t._v("\n                            "+t._s(t.__("Export PDF"))+"\n                        ")]),t._v(" "),n("a",{key:t.downloadBtnKey,staticClass:"mr-3  vs-component vs-button vs-button-success vs-button-filled download-btn",staticStyle:{"font-size":"20px"},attrs:{target:"_blank",rel:"noopener",href:t.body.word_link}},[t._v("\n                            "+t._s(t.__("Export Word"))+"\n                        ")])]):t._e()],1)])])])],1)}),[],!1,null,null,null);e.default=l.exports},780:function(t,e,n){"use strict";var s=n(536),a=n.n(s);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.a=function t(e){return r(this,t),new a.a(e,{http:window.Iracode.getHttp()})}},781:function(t,e,n){"use strict";var s=n(62),a=n.n(s);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e,n,s,a,r,o){try{var i=t[r](o),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(s,a)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(s,a){var r=t.apply(e,n);function o(t){c(r,s,a,o,i,"next",t)}function i(t){c(r,s,a,o,i,"throw",t)}o(void 0)}))}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a={data:function(){var t=this;return{uploadServer:{url:window.config.uploadBasePath,timeout:36e6,load:function(t,e,n,s,a,r){t.indexOf("/null")>-1&&(console.log("source",t),a());var o=new Request(t);fetch(o).then((function(t){t.blob().then((function(t){e(t)}))}))},process:{url:"/process",method:"POST",headers:{Authorization:"Bearer ".concat(this.$store.state.auth.accessToken),"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},withCredentials:!1,onload:function(e){return"object"!=u(e)&&(e=JSON.parse(e)),console.log(t.inputs[e.field_name],e.field_name),t.inputs[e.field_name].filepond_options["allow-multiple"]?t.form[e.field_name].push(e.key):t.form[e.field_name]=e.key,e.key},onerror:function(t){return t.data},ondata:function(e){return e.append("model",t.model),t.$route.params.id&&e.append("model_id",t.$route.params.id),e}},revert:"revert",restore:"restore",fetch:"fetch"}}},methods:{getRelationLabel:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];console.log(this,e)},onRelationSelect:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";this.inputs[t].selected=e,this.form[t]=e[n]},handleFilePondInit:function(){console.log("FilePond has initialized")},onSelect:function(t,e){this.inputs[t].selected=e,this.form[t]=e.value},onRelationSearch:function(t,e,n){var s=this;return l(a.a.mark((function r(){var o,i,c,l;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(""!=e){a.next=2;break}return a.abrupt("return");case 2:return n(!0),o=s.inputs[t],i={},o&&(i["filter[".concat(o.titleField,"]")]=e),a.next=8,s.$http.get(s.inputs[t].searchUrl,{params:i});case 8:if(c=a.sent,!(l=c.data).success){a.next=13;break}return s.inputs[t].options=l.data.items,a.abrupt("return",n(!1));case 13:s.inputs[t].options=[];case 14:case"end":return a.stop()}}),r)})))()},hasValidationError:function(t){return!(!this.form.errors||!this.form.errors.has(t))||void 0},validationError:function(t){return this.form.errors?this.form.errors.first(t):void 0},onSelectTableSearch:function(t,e){var n=this;return l(a.a.mark((function s(){var r,i;return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.length){s.next=6;break}return s.next=3,n.$http.post("".concat(window.config.path_prefix,"/api/get_select_table"),o(o({},n.inputs[t].select_table_options),{},{search:e}));case 3:r=s.sent,i=r.data,n.inputs[t].options=i.data;case 6:case"end":return s.stop()}}),s)})))()}},created:function(){var t=this;return l(a.a.mark((function e(){var n,s,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("before create called"),e.t0=a.a.keys(t.inputs);case 2:if((e.t1=e.t0()).done){e.next=14;break}if(n=e.t1.value,"relation"!==t.inputs[n].field_type){e.next=12;break}return console.log(t.inputs[n]),e.next=8,t.$http.get(t.inputs[n].searchUrl);case 8:s=e.sent,(r=s.data).success&&(t.inputs[n].options=r.data.items),t.inputs[n].options.length&&(Array.isArray(t.inputs[n].selected)||(t.form[n]=t.inputs[n].options[0].id,t.inputs[n].selected=t.inputs[n].options[0]));case 12:e.next=2;break;case 14:case"end":return e.stop()}}),e)})))()}}},824:function(t,e,n){var s=n(945);"string"==typeof s&&(s=[[t.i,s,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(73)(s,a);s.locals&&(t.exports=s.locals)},825:function(t,e,n){var s=n(947);"string"==typeof s&&(s=[[t.i,s,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(73)(s,a);s.locals&&(t.exports=s.locals)},944:function(t,e,n){"use strict";n(824)},945:function(t,e,n){(t.exports=n(72)(!1)).push([t.i,"\n.gray {\n    color: #b5b2b2;\n    margin: 1.5rem 0;\n}\n.styled-fieldset {\n    padding: 2rem 1rem;\n}\n",""])},946:function(t,e,n){"use strict";n(825)},947:function(t,e,n){(t.exports=n(72)(!1)).push([t.i,"\n.table-wrap{\n    width: 70%;\n    margin: auto;\n}\n",""])}}]);