(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{743:function(t,e,s){"use strict";s.r(e);var n=s(62),a=s.n(n),r=s(766);function o(t,e,s,n,a,r,o){try{var i=t[r](o),l=i.value}catch(t){return void s(t)}i.done?e(l):Promise.resolve(l).then(n,a)}var i={components:{},mixins:[s(767).a],data:function(){return{form:new r.a({first_name:"",last_name:"",profession:"1",specialty:"1",hostpital:"",cover:"",avatar:""}),model:"Modules\\Admin\\Models\\Physician",locale:Iracode.$i18n.locale,inputs:{first_name:{type:"vs-input",field_type:"text"},last_name:{type:"vs-input",field_type:"text"},profession:{type:"v-select",field_type:"select",options:[{label:"Fellow",value:"1"},{label:"Medical student",value:"2"},{label:"Physician",value:"3"},{label:"Physician assistant",value:"4"},{label:"Resident",value:"5"},{label:"Other",value:"6"}],selected:{}},specialty:{type:"v-select",field_type:"select",options:[{label:"General cardiologist",value:"1"},{label:"Interventional cardiologist",value:"2"},{label:"Interventional radilogist",value:"3"},{label:"Interventionalelectrophysiologist",value:"4"},{label:"Other",value:"5"}],selected:{}},hostpital:{type:"vs-input",field_type:"text"},cover:{type:"filepond",field_type:"filepond_image",files:[],filepond_options:{"label-idle":"Drag &amp; Drop your files","allow-multiple":Iracode.toBool(0),"accepted-file-types":"image/jpeg, image/png","instant-upload":Iracode.toBool(1)}},avatar:{type:"filepond",field_type:"filepond_image",files:[],filepond_options:{"label-idle":"Drag &amp; Drop your files","allow-multiple":Iracode.toBool(0),"accepted-file-types":"image/jpeg, image/png","instant-upload":Iracode.toBool(1)}}}}},props:{},computed:{},created:function(){},mounted:function(){},methods:{onSubmit:function(t){var e,s=this;return(e=a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.form.post("/admin/api/physicians");case 2:e.sent.success&&(Iracode.success(s.__("Physician Created Successfully")),"close"==t?s.$router.push("/admin/physicians"):s.form.reset());case 4:case"end":return e.stop()}}),e)})),function(){var t=this,s=arguments;return new Promise((function(n,a){var r=e.apply(t,s);function i(t){o(r,n,a,i,l,"next",t)}function l(t){o(r,n,a,i,l,"throw",t)}i(void 0)}))})()}}},l=s(53),c=Object(l.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mb-base"},[s("vx-card",{scopedSlots:t._u([{key:"actions",fn:function(){return[s("vs-button",{attrs:{color:"primary",to:"/admin/physicians",type:"filled"}},[t._v(t._s(t.__("Back")))])]},proxy:!0}])},[t._v(" "),s("form",{on:{submit:t.onSubmit}},[s("vs-row",{staticClass:"mb-6",attrs:{"vs-type":"flex","vs-w":"12"}},[s("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"6"}},[s("vs-row",{attrs:{"vs-type":"flex","vs-w":"12"}},[s("vs-col",{staticClass:"justify-end pr-5",attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"3"}},[s("span",[t._v(t._s(t.__("First Name")))]),t._v(" "),s("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),s("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"9"}},[s(t.inputs.first_name.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("first_name"),"danger-text":t.validationError("first_name"),name:"first_name",type:"text"},model:{value:t.form.first_name,callback:function(e){t.$set(t.form,"first_name",e)},expression:"form.first_name"}})],1)],1)],1),t._v(" "),s("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"6"}},[s("vs-row",{attrs:{"vs-type":"flex","vs-w":"12"}},[s("vs-col",{staticClass:"justify-end pr-5",attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"3"}},[s("span",[t._v(t._s(t.__("Last Name")))]),t._v(" "),s("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),s("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"9"}},[s(t.inputs.last_name.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("last_name"),"danger-text":t.validationError("last_name"),name:"last_name",type:"text"},model:{value:t.form.last_name,callback:function(e){t.$set(t.form,"last_name",e)},expression:"form.last_name"}})],1)],1)],1)],1),t._v(" "),s("vs-row",{staticClass:"mb-6",attrs:{"vs-type":"flex","vs-w":"12"}},[s("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"6"}},[s("vs-row",{attrs:{"vs-type":"flex","vs-w":"12"}},[s("vs-col",{staticClass:"justify-end pr-5",attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"3"}},[s("span",[t._v(t._s(t.__("Profession")))])]),t._v(" "),s("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"9"}},[s(t.inputs.profession.type,{tag:"component",staticClass:"w-full",attrs:{value:t.inputs.profession.selected,danger:t.hasValidationError("profession"),"danger-text":t.validationError("profession"),name:"profession",type:"select",options:t.inputs.profession.options,dir:t.$vs.rtl?"rtl":"ltr"},on:{input:function(e){return t.onSelect("profession",e)}}})],1)],1)],1),t._v(" "),s("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"6"}},[s("vs-row",{attrs:{"vs-type":"flex","vs-w":"12"}},[s("vs-col",{staticClass:"justify-end pr-5",attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"3"}},[s("span",[t._v(t._s(t.__("Specialty")))])]),t._v(" "),s("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"9"}},[s(t.inputs.specialty.type,{tag:"component",staticClass:"w-full",attrs:{value:t.inputs.specialty.selected,danger:t.hasValidationError("specialty"),"danger-text":t.validationError("specialty"),name:"specialty",type:"select",options:t.inputs.specialty.options,dir:t.$vs.rtl?"rtl":"ltr"},on:{input:function(e){return t.onSelect("specialty",e)}}})],1)],1)],1)],1),t._v(" "),s("vs-row",{staticClass:"mb-6",attrs:{"vs-type":"flex","vs-w":"12"}},[s("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"6"}},[s("vs-row",{attrs:{"vs-type":"flex","vs-w":"12"}},[s("vs-col",{staticClass:"justify-end pr-5",attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"3"}},[s("span",[t._v(t._s(t.__("Hospital")))])]),t._v(" "),s("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"9"}},[s(t.inputs.hostpital.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("hostpital"),"danger-text":t.validationError("hostpital"),name:"hostpital",type:"text"},model:{value:t.form.hostpital,callback:function(e){t.$set(t.form,"hostpital",e)},expression:"form.hostpital"}})],1)],1)],1)],1),t._v(" "),s("vs-row",{staticClass:"mb-6",attrs:{"vs-type":"flex","vs-w":"12"}},[s("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"6"}},[s("vs-row",{attrs:{"vs-type":"flex","vs-w":"12"}},[s("vs-col",{staticClass:"justify-end pr-5",attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"3"}},[s("span",[t._v(t._s(t.__("Cover")))])]),t._v(" "),s("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"9"}},[s(t.inputs.cover.type,{tag:"component",staticClass:"w-full",attrs:{imageResizeMode:"cover",danger:t.hasValidationError("cover"),"danger-text":t.validationError("cover"),name:"cover","label-idle":t.inputs.cover.filepond_options["label-idle"],"allow-multiple":t.inputs.cover.filepond_options["allow-multiple"],"accepted-file-types":t.inputs.cover.filepond_options["accepted-file-types"],"instant-upload":t.inputs.cover.filepond_options["instant-upload"],files:t.inputs.cover.files,server:t.uploadServer}})],1)],1)],1),t._v(" "),s("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"6"}},[s("vs-row",{attrs:{"vs-type":"flex","vs-w":"12"}},[s("vs-col",{staticClass:"justify-end pr-5",attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"3"}},[s("span",[t._v(t._s(t.__("Avatar")))]),t._v(" "),s("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),s("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"9"}},[s(t.inputs.avatar.type,{tag:"component",staticClass:"w-full",attrs:{imageResizeMode:"cover",danger:t.hasValidationError("avatar"),"danger-text":t.validationError("avatar"),name:"avatar","label-idle":t.inputs.avatar.filepond_options["label-idle"],"allow-multiple":t.inputs.avatar.filepond_options["allow-multiple"],"accepted-file-types":t.inputs.avatar.filepond_options["accepted-file-types"],"instant-upload":t.inputs.avatar.filepond_options["instant-upload"],files:t.inputs.avatar.files,server:t.uploadServer}})],1)],1)],1)],1),t._v(" "),s("vs-row",{staticClass:"mb-6",attrs:{"vs-type":"flex","vs-w":"12"}}),t._v(" "),s("div",{staticClass:"flex justify-end mt-16"},[s("div",{staticClass:"flex"},[s("vs-button",{staticClass:"mr-3 mb-2",attrs:{color:"success"},on:{click:function(){return t.onSubmit("new")}}},[t._v(t._s(t.__("Save and new")))]),t._v(" "),s("vs-button",{staticClass:"mr-3 mb-2",attrs:{color:"success"},on:{click:function(){return t.onSubmit("close")}}},[t._v(t._s(t.__("Save and close")))]),t._v(" "),s("vs-button",{staticClass:"mb-2",attrs:{color:"warning"},on:{click:function(e){return t.form.reset()}}},[t._v(t._s(t.__("Clear")))])],1)])],1)])],1)}),[],!1,null,null,null);e.default=c.exports},766:function(t,e,s){"use strict";var n=s(536),a=s.n(n);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.a=function t(e){return r(this,t),new a.a(e,{http:window.Iracode.getHttp()})}},767:function(t,e,s){"use strict";var n=s(62),a=s.n(n);function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){i(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function i(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function l(t,e,s,n,a,r,o){try{var i=t[r](o),l=i.value}catch(t){return void s(t)}i.done?e(l):Promise.resolve(l).then(n,a)}function c(t){return function(){var e=this,s=arguments;return new Promise((function(n,a){var r=t.apply(e,s);function o(t){l(r,n,a,o,i,"next",t)}function i(t){l(r,n,a,o,i,"throw",t)}o(void 0)}))}}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a={data:function(){var t=this;return{uploadServer:{url:window.config.uploadBasePath,timeout:36e6,load:function(t,e,s,n,a,r){t.indexOf("/null")>-1&&(console.log("source",t),a());var o=new Request(t);fetch(o).then((function(t){t.blob().then((function(t){e(t)}))}))},process:{url:"/process",method:"POST",headers:{Authorization:"Bearer ".concat(this.$store.state.auth.accessToken),"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},withCredentials:!1,onload:function(e){return"object"!=p(e)&&(e=JSON.parse(e)),console.log(t.inputs[e.field_name],e.field_name),t.inputs[e.field_name].filepond_options["allow-multiple"]?t.form[e.field_name].push(e.key):t.form[e.field_name]=e.key,e.key},onerror:function(t){return t.data},ondata:function(e){return e.append("model",t.model),t.$route.params.id&&e.append("model_id",t.$route.params.id),e}},revert:"revert",restore:"restore",fetch:"fetch"}}},methods:{getRelationLabel:function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];console.log(this,e)},onRelationSelect:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";this.inputs[t].selected=e,this.form[t]=e[s]},handleFilePondInit:function(){console.log("FilePond has initialized")},onSelect:function(t,e){this.inputs[t].selected=e,this.form[t]=e.value},onRelationSearch:function(t,e,s){var n=this;return c(a.a.mark((function r(){var o,i,l,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(""!=e){a.next=2;break}return a.abrupt("return");case 2:return s(!0),o=n.inputs[t],i={},o&&(i["filter[".concat(o.titleField,"]")]=e),a.next=8,n.$http.get(n.inputs[t].searchUrl,{params:i});case 8:if(l=a.sent,!(c=l.data).success){a.next=13;break}return n.inputs[t].options=c.data.items,a.abrupt("return",s(!1));case 13:n.inputs[t].options=[];case 14:case"end":return a.stop()}}),r)})))()},hasValidationError:function(t){return!(!this.form.errors||!this.form.errors.has(t))||void 0},validationError:function(t){return this.form.errors?this.form.errors.first(t):void 0},onSelectTableSearch:function(t,e){var s=this;return c(a.a.mark((function n(){var r,i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.length){n.next=6;break}return n.next=3,s.$http.post("".concat(window.config.path_prefix,"/api/get_select_table"),o(o({},s.inputs[t].select_table_options),{},{search:e}));case 3:r=n.sent,i=r.data,s.inputs[t].options=i.data;case 6:case"end":return n.stop()}}),n)})))()}},created:function(){var t=this;return c(a.a.mark((function e(){var s,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("before create called"),e.t0=a.a.keys(t.inputs);case 2:if((e.t1=e.t0()).done){e.next=14;break}if(s=e.t1.value,"relation"!==t.inputs[s].field_type){e.next=12;break}return console.log(t.inputs[s]),e.next=8,t.$http.get(t.inputs[s].searchUrl);case 8:n=e.sent,(r=n.data).success&&(t.inputs[s].options=r.data.items),t.inputs[s].options.length&&(Array.isArray(t.inputs[s].selected)||(t.form[s]=t.inputs[s].options[0].id,t.inputs[s].selected=t.inputs[s].options[0]));case 12:e.next=2;break;case 14:case"end":return e.stop()}}),e)})))()}}}}]);