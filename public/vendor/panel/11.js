(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{730:function(t,e,s){"use strict";var n=s(543),a=s.n(n);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.a=function t(e){return i(this,t),new a.a(e,{http:window.Iracode.getHttp()})}},731:function(t,e,s){"use strict";var n,a,i,r=s(63),o=s.n(r);function l(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?Object(arguments[e]):{},n=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(s).filter((function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable}))),n.forEach((function(e){c(t,e,s[e])}))}return t}function c(t,e,s){var n;return n=function(t,e){if("object"!=p(t)||!t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var n=s.call(t,e||"default");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==p(n)?n:String(n))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function v(t,e,s,n,a,i,r){try{var o=t[i](r),l=o.value}catch(t){return void s(t)}o.done?e(l):Promise.resolve(l).then(n,a)}function u(t){return function(){var e=this,s=arguments;return new Promise((function(n,a){var i=t.apply(e,s);function r(t){v(i,n,a,r,o,"next",t)}function o(t){v(i,n,a,r,o,"throw",t)}r(void 0)}))}}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a={data:function(){var t=this;return{uploadServer:{url:window.config.uploadBasePath,timeout:36e6,load:function(t,e,s,n,a,i){t.indexOf("/null")>-1&&(console.log("source",t),a());var r=new Request(t);fetch(r).then((function(t){t.blob().then((function(t){e(t)}))}))},process:{url:"/process",method:"POST",headers:{Authorization:"Bearer ".concat(this.$store.state.auth.accessToken),"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},withCredentials:!1,onload:function(e){return"object"!=p(e)&&(e=JSON.parse(e)),console.log(t.inputs[e.field_name],e.field_name),t.inputs[e.field_name].filepond_options["allow-multiple"]?t.form[e.field_name].push(e.key):t.form[e.field_name]=e.key,e.key},onerror:function(t){return t.data},ondata:function(e){return e.append("model",t.model),t.$route.params.id&&e.append("model_id",t.$route.params.id),e}},revert:"revert",restore:"restore",fetch:"fetch"}}},methods:{getRelationLabel:function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];console.log(this,e)},onRelationSelect:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";this.inputs[t].selected=e,this.form[t]=e[s]},handleFilePondInit:function(){console.log("FilePond has initialized")},onSelect:function(t,e){this.inputs[t].selected=e,this.form[t]=e.value},onRelationSearch:(i=u(o.a.mark((function t(e,s,n){var a,i,r,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=s){t.next=2;break}return t.abrupt("return");case 2:return n(!0),a=this.inputs[e],i={},a&&(i["filter[".concat(a.titleField,"]")]=s),t.next=8,this.$http.get(this.inputs[e].searchUrl,{params:i});case 8:if(r=t.sent,!(l=r.data).success){t.next=13;break}return this.inputs[e].options=l.data.items,t.abrupt("return",n(!1));case 13:this.inputs[e].options=[];case 14:case"end":return t.stop()}}),t,this)}))),function(t,e,s){return i.apply(this,arguments)}),hasValidationError:function(t){return!(!this.form.errors||!this.form.errors.has(t))||void 0},validationError:function(t){return this.form.errors?this.form.errors.first(t):void 0},onSelectTableSearch:(a=u(o.a.mark((function t(e,s){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s.length){t.next=6;break}return t.next=3,this.$http.post("".concat(window.config.path_prefix,"/api/get_select_table"),l({},this.inputs[e].select_table_options,{search:s}));case 3:n=t.sent,a=n.data,this.inputs[e].options=a.data;case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return a.apply(this,arguments)})},created:(n=u(o.a.mark((function t(){var e,s,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("before create called"),t.t0=o.a.keys(this.inputs);case 2:if((t.t1=t.t0()).done){t.next=14;break}if(e=t.t1.value,"relation"!==this.inputs[e].field_type){t.next=12;break}return console.log(this.inputs[e]),t.next=8,this.$http.get(this.inputs[e].searchUrl);case 8:s=t.sent,(n=s.data).success&&(this.inputs[e].options=n.data.items),this.inputs[e].options.length&&(Array.isArray(this.inputs[e].selected)||(this.form[e]=this.inputs[e].options[0].id,this.inputs[e].selected=this.inputs[e].options[0]));case 12:t.next=2;break;case 14:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}},773:function(t,e,s){var n=s(887);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};s(74)(n,a);n.locals&&(t.exports=n.locals)},774:function(t,e,s){var n=s(889);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};s(74)(n,a);n.locals&&(t.exports=n.locals)},886:function(t,e,s){"use strict";s(773)},887:function(t,e,s){(t.exports=s(73)(!1)).push([t.i,"\n.gray {\n    color: #b5b2b2;\n    margin: 1.5rem 0;\n}\n.styled-fieldset {\n    padding: 2rem 1rem;\n}\n",""])},888:function(t,e,s){"use strict";s(774)},889:function(t,e,s){(t.exports=s(73)(!1)).push([t.i,"\n.table-wrap {\n    width: 70%;\n    margin: auto;\n}\n.plaque-title,\n.plaque-form {\n    font-size: 18px;\n}\n",""])},979:function(t,e,s){"use strict";s.r(e);var n=s(63),a=s.n(n);s(730);function i(t,e,s,n,a,i,r){try{var o=t[i](r),l=o.value}catch(t){return void s(t)}o.done?e(l):Promise.resolve(l).then(n,a)}function r(t){return function(){var e=this,s=arguments;return new Promise((function(n,a){var r=t.apply(e,s);function o(t){i(r,n,a,o,l,"next",t)}function l(t){i(r,n,a,o,l,"throw",t)}o(void 0)}))}}var o,l,c={components:{},mixins:[s(731).a],data:function(){return{tableKey:0,form:{patient_id:0,Age:"",Sex:1,LCIMT:"400",LICA:"0",LECA:"0",LCCA:"0",RCIMT:"450",RICA:"0",RECA:"0",RCCA:"0"},patient:{name:"",code:"1136"},result:{},body:{},downloadBtnKey:0,patientResult:{},model:"Modules\\User\\Models\\CtCase",locale:Iracode.$i18n.locale,inputs:{code:{type:"vs-input"},name:{type:"vs-input"},physician:{type:"vs-input"},Age:{type:"vs-input"},Sex:{type:"vs-radio"},patient_id:{field_type:"text",type:"vs-input",options:[],selected:{},foreign_key:"patient_id",relation_name:"patient",searchUrl:"/user/api/patients",titleField:"name"}}}},props:{},computed:{},mounted:function(){},methods:{calculate:(l=r(a.a.mark((function t(){var e,s,n,i,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.body={},(e=this.patient).age=this.form.Age,e.sex=this.form.Sex,e.hospital="",Iracode.loading(),t.next=8,this.$http.post("/user/api/patients",e);case 8:return s=t.sent,n=s.data,this.patientResult=n,this.form.patient_id=n.data.id,t.next=14,this.$http.post("/user/api/imt_calculations",this.form);case 14:i=t.sent,r=i.data,Iracode.close_loading(),this.body=r.data,console.log(r);case 19:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)}),onSubmit:(o=r(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.form.post("/user/api/imt_calculations");case 2:t.sent.success&&(Iracode.success(this.__("Ctcase Created Successfully")),"close"==e?this.$router.push("/user/imt_calculations"):this.form.reset());case 4:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})}},v=(s(886),s(888),s(53)),u=Object(v.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mb-base"},[s("vx-card",[s("h2",{staticStyle:{"text-align":"center",padding:"2rem",border:"1px solid #000"}},[t._v("Carotid IMT Scan (CIMT)")]),t._v(" "),s("form",{on:{submit:t.onSubmit}},[s("div",[s("h4",{staticClass:"gray"},[t._v("Patient Information:")]),t._v(" "),s("vs-row",{staticClass:"mb-6 m-0",attrs:{"vs-type":"flex","vs-w":"12"}},[s("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"4","vs-sm":"6","vs-xs":"12"}},[s("div",{staticClass:"flex text-left"},[s("span",[t._v(t._s(t.__("Name")))]),t._v(" "),s("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),s(t.inputs.name.type,{tag:"component",staticStyle:{width:"250px","margin-left":"1rem"},attrs:{danger:t.hasValidationError("name"),"danger-text":t.validationError("name"),name:"name",type:"text"},model:{value:t.patient.name,callback:function(e){t.$set(t.patient,"name",e)},expression:"patient.name"}})],1),t._v(" "),s("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"2","vs-sm":"6","vs-xs":"12"}},[s("div",{staticClass:"flex text-left"},[s("span",[t._v(t._s(t.__("Code")))]),t._v(" "),s("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),s(t.inputs.code.type,{tag:"component",staticStyle:{width:"120px","margin-left":"1rem"},attrs:{danger:t.hasValidationError("code"),"danger-text":t.validationError("code"),name:"code",type:"text"},model:{value:t.patient.code,callback:function(e){t.$set(t.patient,"code",e)},expression:"patient.code"}})],1),t._v(" "),s("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"3","vs-sm":"6","vs-xs":"6"}},[s("div",{staticClass:"flex text-left"},[s("span",[t._v(t._s(t.__("Age")))]),t._v(" "),s("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),s(t.inputs.Age.type,{tag:"component",staticStyle:{width:"80px","margin-left":"1rem"},attrs:{danger:t.hasValidationError("Age"),"danger-text":t.validationError("Age"),name:"Age",type:"number"},model:{value:t.form.Age,callback:function(e){t.$set(t.form,"Age",e)},expression:"form.Age"}})],1),t._v(" "),s("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"3","vs-sm":"6","vs-xs":"12"}},[s("div",{staticClass:"flex text-left"},[s("span",[t._v(t._s(t.__("Sex")))]),t._v(" "),s("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),s("div",{staticStyle:{display:"flex","justify-content":"space-around",width:"100%","margin-top":"0.5rem","margin-left":"1.5rem"}},[s("vs-radio",{attrs:{"vs-name":"Sex","vs-value":"1"},model:{value:t.form.Sex,callback:function(e){t.$set(t.form,"Sex",e)},expression:"form.Sex"}},[t._v("Male")]),t._v(" "),s("vs-radio",{staticClass:"ml-4",attrs:{"vs-name":"Sex","vs-value":"0"},model:{value:t.form.Sex,callback:function(e){t.$set(t.form,"Sex",e)},expression:"form.Sex"}},[t._v("Female")])],1)])],1)],1),t._v(" "),s("div",[s("vs-row",{staticClass:"mb-6 m-0",attrs:{"vs-type":"flex","vs-w":"12"}},[s("vs-col",{attrs:{"vvs-align":"center","vs-lg":"6","vs-sm":"6","vs-xs":"12"}},[s("div",{staticClass:"text-center"},[s("div",{staticClass:"plaque-title"},[s("strong",[t._v("Left:")]),t._v(" "),s("span",[t._v("Plaque Description")])])]),t._v(" "),s("div",{staticClass:"plaque-form"},[s("vs-row",{staticClass:"mt-10 m-0",attrs:{"vs-type":"flex","vs-w":"12"}},[s("vs-col",{attrs:{"vs-lg":"5"}},[s("strong",[t._v("Intima-Media Thickness:")])]),t._v(" "),s("vs-col",{attrs:{"vs-lg":"5"}},[s("div",{staticClass:"input flex"},[s("vs-input",{model:{value:t.form.LCIMT,callback:function(e){t.$set(t.form,"LCIMT",e)},expression:"form.LCIMT"}}),t._v(" "),s("strong",{staticClass:"ml-2",staticStyle:{width:"40px",display:"inline-block"}},[t._v("mm")])],1)])],1),t._v(" "),s("vs-row",{staticClass:"mt-6 m-0",attrs:{"vs-type":"flex","vs-w":"12"}},[s("vs-col",{attrs:{"vs-lg":"5"}},[s("strong",[t._v("Internal Carotid Artery:")])]),t._v(" "),s("vs-col",{attrs:{"vs-lg":"5"}},[s("div",{staticClass:"input flex"},[s("vs-input",{model:{value:t.form.LICA,callback:function(e){t.$set(t.form,"LICA",e)},expression:"form.LICA"}}),t._v(" "),s("strong",{staticClass:"ml-2",staticStyle:{width:"40px",display:"inline-block",flex:"1"}},[t._v("%")])],1)])],1),t._v(" "),s("vs-row",{staticClass:"mt-6 m-0",attrs:{"vs-type":"flex","vs-w":"12"}},[s("vs-col",{attrs:{"vs-lg":"5"}},[s("strong",[t._v("External Carotid Artery:")])]),t._v(" "),s("vs-col",{attrs:{"vs-lg":"5"}},[s("div",{staticClass:"input flex"},[s("vs-input",{model:{value:t.form.LECA,callback:function(e){t.$set(t.form,"LECA",e)},expression:"form.LECA"}}),t._v(" "),s("strong",{staticClass:"ml-2",staticStyle:{width:"40px",display:"inline-block",flex:"1"}},[t._v("%")])],1)])],1),t._v(" "),s("vs-row",{staticClass:"mt-6 m-0",attrs:{"vs-type":"flex","vs-w":"12"}},[s("vs-col",{attrs:{"vs-lg":"5"}},[s("strong",[t._v("Common Carotid Artery:")])]),t._v(" "),s("vs-col",{attrs:{"vs-lg":"5"}},[s("div",{staticClass:"input flex"},[s("vs-input",{model:{value:t.form.LCCA,callback:function(e){t.$set(t.form,"LCCA",e)},expression:"form.LCCA"}}),t._v(" "),s("strong",{staticClass:"ml-2",staticStyle:{width:"40px",display:"inline-block",flex:"1"}},[t._v("%")])],1)])],1)],1)]),t._v(" "),s("vs-col",{attrs:{"vs-align":"center","vs-lg":"6","vs-sm":"6","vs-xs":"12"}},[s("div",{staticClass:"text-center"},[s("div",{staticClass:"plaque-title"},[s("strong",[t._v("Right:")]),t._v(" "),s("span",[t._v("Plaque Description")])])]),t._v(" "),s("div",{staticClass:"plaque-form"},[s("vs-row",{staticClass:"mt-10 m-0",attrs:{"vs-type":"flex","vs-w":"12"}},[s("vs-col",{attrs:{"vs-lg":"5"}},[s("strong",[t._v("Intima-Media Thickness:")])]),t._v(" "),s("vs-col",{attrs:{"vs-lg":"5"}},[s("div",{staticClass:"input flex"},[s("vs-input",{model:{value:t.form.RCIMT,callback:function(e){t.$set(t.form,"RCIMT",e)},expression:"form.RCIMT"}}),t._v(" "),s("strong",{staticClass:"ml-2",staticStyle:{width:"40px",display:"inline-block"}},[t._v("mm")])],1)])],1),t._v(" "),s("vs-row",{staticClass:"mt-6 m-0",attrs:{"vs-type":"flex","vs-w":"12"}},[s("vs-col",{attrs:{"vs-lg":"5"}},[s("strong",[t._v("Internal Carotid Artery:")])]),t._v(" "),s("vs-col",{attrs:{"vs-lg":"5"}},[s("div",{staticClass:"input flex"},[s("vs-input",{model:{value:t.form.RICA,callback:function(e){t.$set(t.form,"RICA",e)},expression:"form.RICA"}}),t._v(" "),s("strong",{staticClass:"ml-2",staticStyle:{width:"40px",display:"inline-block",flex:"1"}},[t._v("%")])],1)])],1),t._v(" "),s("vs-row",{staticClass:"mt-6 m-0",attrs:{"vs-type":"flex","vs-w":"12"}},[s("vs-col",{attrs:{"vs-lg":"5"}},[s("strong",[t._v("External Carotid Artery:")])]),t._v(" "),s("vs-col",{attrs:{"vs-lg":"5"}},[s("div",{staticClass:"input flex"},[s("vs-input",{model:{value:t.form.RECA,callback:function(e){t.$set(t.form,"RECA",e)},expression:"form.RECA"}}),t._v(" "),s("strong",{staticClass:"ml-2",staticStyle:{width:"40px",display:"inline-block",flex:"1"}},[t._v("%")])],1)])],1),t._v(" "),s("vs-row",{staticClass:"mt-6 m-0",attrs:{"vs-type":"flex","vs-w":"12"}},[s("vs-col",{attrs:{"vs-lg":"5"}},[s("strong",[t._v("Common Carotid Artery:")])]),t._v(" "),s("vs-col",{attrs:{"vs-lg":"5"}},[s("div",{staticClass:"input flex"},[s("vs-input",{model:{value:t.form.RCCA,callback:function(e){t.$set(t.form,"RCCA",e)},expression:"form.RCCA"}}),t._v(" "),s("strong",{staticClass:"ml-2",staticStyle:{width:"40px",display:"inline-block",flex:"1"}},[t._v("%")])],1)])],1)],1)])],1)],1),t._v(" "),s("div",[s("div",{staticClass:"flex align-items-center justify-content-center",staticStyle:{"justify-content":"center"}},[s("vs-button",{staticClass:"mr-3 mb-2",staticStyle:{"font-size":"20px"},attrs:{color:"success"},on:{click:t.calculate}},[t._v(t._s(t.__("Calculate")))]),t._v(" "),t.body.link?s("div",{staticClass:"mt-2"},[s("a",{key:t.downloadBtnKey,staticClass:"mr-3  vs-component vs-button vs-button-success vs-button-filled download-btn",staticStyle:{"font-size":"20px"},attrs:{target:"_blank",rel:"noopener",href:t.body.link}},[t._v("\n                            "+t._s(t.__("Export PDF"))+"\n                        ")]),t._v(" "),s("a",{key:t.downloadBtnKey,staticClass:"mr-3  vs-component vs-button vs-button-success vs-button-filled download-btn",staticStyle:{"font-size":"20px"},attrs:{target:"_blank",rel:"noopener",href:t.body.word_link}},[t._v("\n                            "+t._s(t.__("Export Word"))+"\n                        ")])]):t._e()],1)])])])],1)}),[],!1,null,null,null);e.default=u.exports}}]);