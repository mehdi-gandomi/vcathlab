(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{660:function(t,e,s){"use strict";s.r(e);var a=s(63),i=s.n(a);function o(t,e,s,a,i,o,n){try{var l=t[o](n),r=l.value}catch(t){return void s(t)}l.done?e(r):Promise.resolve(r).then(a,i)}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l,r,c={components:{},mixins:[s(733).a],data:function(){var t=this;return{uploadModalActive:!1,form:{result_file:""},uploadServer:{url:"/admin/api/ct_cases/".concat(this.$route.params.id),load:function(t,e,s,a,i,o){var n=new Request(t);fetch(n).then((function(t){t.blob().then((function(t){e(t)}))}))},process:{url:"/upload_result",method:"POST",headers:{Authorization:"Bearer ".concat(this.$store.state.auth.accessToken),"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},withCredentials:!1,onload:function(e){return"object"!=n(e)&&(e=JSON.parse(e)),t.form[e.field_name]=e.key,t.uploadModalActive=!1,Iracode.success(t.__("Result uploaded successfully")),e.key},onerror:function(t){return t.data},ondata:function(e){return e.append("model",t.model),t.$route.params.id&&e.append("model_id",t.$route.params.id),e}},revert:"revert",restore:"restore",fetch:"fetch"},details:{ct_file:"",result_file:"",created_at:"",updated_at:"","patient.name":"","patient.age":"","patient.hospital":"",patient:""},formTypes:{ct_file:"text",result_file:"text",created_at:"text",updated_at:"text","patient.name":"text","patient.age":"text","patient.hospital":"text",patient:"text"},module:"User",model:"CtCase"}},props:{},computed:{Iracode:function(){return window.Iracode}},created:(l=i.a.mark((function t(){var e,s,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("/user/api/ct_cases/".concat(this.$route.params.id));case 2:e=t.sent,(s=e.data).success&&(a=s.data,this.$store.dispatch("setCurrentResource",a),this.populateFormFields(a)),this.loading=!1;case 6:case"end":return t.stop()}}),t,this)})),r=function(){var t=this,e=arguments;return new Promise((function(s,a){var i=l.apply(t,e);function n(t){o(i,s,a,n,r,"next",t)}function r(t){o(i,s,a,n,r,"throw",t)}n(void 0)}))},function(){return r.apply(this,arguments)}),mounted:function(){},methods:{}},d=s(53),u=Object(d.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("loading-view",{attrs:{loading:t.loading}},[s("div",{staticClass:"vx-row"},[s("div",{staticClass:"vx-col w-full"},[s("vx-card",{staticClass:"mb-base",scopedSlots:t._u([{key:"actions",fn:function(){return[s("vs-button",{attrs:{color:"primary",to:"/user/ct_cases",type:"filled"}},[t._v("Back")])]},proxy:!0}])},[t._v(" "),s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center "},[s("p",{staticClass:"font-semibold"},[t._v(t._s(t.__("Ct File")))])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[t.details.ct_file?s("a",{attrs:{href:t.url(t.details.ct_file),download:t.Iracode.basename(t.details.ct_file)}},[t._v(t._s(t.Iracode.basename(t.details.ct_file)))]):s("p",[t._v("\r\n                                    "+t._s(t.__("No file uploaded yet"))+"\r\n                                ")])])])]),t._v(" "),s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center "},[s("p",{staticClass:"font-semibold"},[t._v("\r\n                                    "+t._s(t.__("Result File"))+"\r\n                                ")])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4 flex"},[t.details.result_file?s("a",{attrs:{href:t.url(t.details.result_file),download:t.Iracode.basename(t.details.result_file)}},[t._v(t._s(t.Iracode.basename(t.details.result_file)))]):s("p",[t._v("\r\n                                    "+t._s(t.__("No file uploaded yet"))+"\r\n\r\n                                ")]),t._v(" "),s("vs-button",{attrs:{color:"primary",size:"small"},on:{click:function(e){t.uploadModalActive=!0}}},[t._v("\r\n                                        "+t._s(t.__("Upload result"))+"\r\n                                    ")])],1)])])]),t._v(" "),s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center "},[s("p",{staticClass:"font-semibold"},[t._v(t._s(t.__("Patient")))])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[t._v("\r\n                                "+t._s(t.details.patient.name)+"\r\n                            ")])])]),t._v(" "),s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center "},[s("p",{staticClass:"font-semibold"},[t._v(t._s(t.__("Age")))])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[t._v("\r\n                                "+t._s(t.details.patient.age)+"\r\n                            ")])])])]),t._v(" "),s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center "},[s("p",{staticClass:"font-semibold"},[t._v("\r\n                                    "+t._s(t.__("Hospital"))+"\r\n                                ")])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[t._v("\r\n                                "+t._s(t.details.patient.hospital)+"\r\n                            ")])])])]),t._v(" "),s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center "},[s("p",{staticClass:"font-semibold"},[t._v("\r\n                                    "+t._s(t.__("Created At"))+"\r\n                                ")])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[t._v("\r\n                                "+t._s(t.dateFormat("created_at"))+"\r\n                            ")])])]),t._v(" "),s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center "},[s("p",{staticClass:"font-semibold"},[t._v("\r\n                                    "+t._s(t.__("Updated At"))+"\r\n                                ")])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[t._v("\r\n                                "+t._s(t.dateFormat("updated_at"))+"\r\n                            ")])])])])])],1),t._v(" "),s("vs-popup",{staticClass:"holamundo",attrs:{title:t.__("Upload result"),active:t.uploadModalActive},on:{"update:active":function(e){t.uploadModalActive=e}}},[s("filepond",{attrs:{imageResizeMode:"cover",name:"result_file","allow-multiple":!1,server:t.uploadServer}})],1)],1)])}),[],!1,null,null,null);e.default=u.exports},733:function(t,e,s){"use strict";e.a={data:function(){return{fields:[],loading:!0}},created:function(){var t=this;this.$http.post("".concat(window.config.path_prefix,"/api/get-model-fields"),{model:this.model,module:this.module}).then((function(e){var s=e.data;t.fields=s.data}))},methods:{getRelation:function(t){return this.__(Iracode.getByDotNotation(this.details,t,"-"))},dateFormat:function(t){var e="".concat(t,"_").concat(window.Iracode.$i18n.locale);return this.details[e]?this.details[e]:this.details[t]},populateFormFields:function(t){this.details=t},radioFormat:function(t){var e=this.fields[t],s=this.details[t];return s="boolean"==typeof s?+s:s,e&&e.options&&e.options.length&&e.options[s]?this.__(e.options[s]):this.__(s)},checkboxFormat:function(){},selectFormat:function(t){var e=this.fields[t],s=this.details[t];return s="boolean"==typeof s?+s:s,e&&e.options&&e.options.length&&e.options[s]?this.__(e.options[s]):this.__(s)}}}}}]);