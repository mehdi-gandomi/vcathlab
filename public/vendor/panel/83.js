(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{691:function(t,e,r){"use strict";r.r(e);var n=r(62),o=r.n(n),s=r(780),a=r(781),i=r(869);r(784);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p(t,e,r,n,o,s,a){try{var i=t[s](a),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,o)}function f(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var s=t.apply(e,r);function a(t){p(s,n,o,a,i,"next",t)}function i(t){p(s,n,o,a,i,"throw",t)}a(void 0)}))}}var d={components:{"form-tree":i.a},mixins:[a.a],data:function(){return{form:new s.a({name:"",title:""}),model:"Modules\\AccessLevel\\Models\\Role",inputs:{name:{type:"vs-input",field_type:"text"},title:{type:"vs-input",field_type:"text"}},permissions:{}}},props:{},computed:{},created:function(){var t=this;return f(o.a.mark((function e(){var r,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/accesslevel/api/roles/".concat(t.$route.params.id));case 2:r=e.sent,(n=r.data).success&&(s=n.data,t.$store.dispatch("setCurrentResource",s),s.abilities&&(s.abilities[0]||Object.keys(s.abilities)[0])&&(t.permissions=s.abilities),t.populateFormFields(s));case 5:case"end":return e.stop()}}),e)})))()},mounted:function(){},methods:{onSubmit:function(t){var e=this;return f(o.a.mark((function r(){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.form.withData(l(l({},e.form.data()),{},{permissions:e.$refs.tree.getPermissions()})).put("/accesslevel/api/roles/".concat(e.$route.params.id));case 2:r.sent.success&&Iracode.success(e.__("Role Updated Successfully")),"close"==t?e.$router.push("/accesslevel/roles"):e.form.reset();case 5:case"end":return r.stop()}}),r)})))()},populateFormFields:function(t){var e={},r=l({},this.form);for(var n in r)if(this.inputs[n])if("relation"==this.inputs[n].field_type){e[n]=t[n]?t[n]:"";var o=this.inputs[n].options.findIndex((function(t){return 2==t.id}));o>-1&&(this.inputs[n].selected=this.inputs[n].options[o])}else"password"!=this.inputs[n].field_type&&(e[n]=t[n]?t[n]:"");this.form.populate(e)}}},v=r(53),m=Object(v.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mb-base"},[r("vx-card",{scopedSlots:t._u([{key:"actions",fn:function(){return[r("vs-button",{attrs:{color:"primary",to:"/accesslevel/roles",type:"filled"}},[t._v(t._s(t.__("Back")))])]},proxy:!0}])},[t._v(" "),r("form",{on:{submit:t.onSubmit}},[r("div",{staticClass:"vx-row mb-6"},[r("div",{staticClass:"vx-col w-1/2"},[r("div",{staticClass:"row flex"},[r("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[r("span",[t._v(t._s(t.__("Name")))]),t._v(" "),r("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),r("div",{staticClass:"vx-col w-3/4"},[r(t.inputs.name.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("name"),"danger-text":t.validationError("name"),name:"name",type:"text"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)])]),t._v(" "),r("div",{staticClass:"vx-col w-1/2"},[r("div",{staticClass:"row flex"},[r("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[r("span",[t._v(t._s(t.__("Title")))])]),t._v(" "),r("div",{staticClass:"vx-col w-3/4"},[r(t.inputs.title.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("title"),"danger-text":t.validationError("title"),name:"title",type:"text"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)])])]),t._v(" "),r("form-tree",{ref:"tree",attrs:{permissions:t.permissions}}),t._v(" "),r("div",{staticClass:"flex justify-end mt-16"},[r("div",{staticClass:"flex"},[r("vs-button",{staticClass:"mr-3 mb-2",attrs:{color:"success"},on:{click:function(){return t.onSubmit("close")}}},[t._v(t._s(t.__("Save")))]),t._v(" "),r("vs-button",{staticClass:"mb-2",attrs:{color:"warning"},on:{click:function(e){return t.form.reset()}}},[t._v(t._s(t.__("Clear")))])],1)])],1)])],1)}),[],!1,null,null,null);e.default=m.exports},784:function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}e.a={localeFormatter:function(t){return t.value?t.value[Iracode.$i18n.locale]:t.value},selectFormatter:function(t){var e=t.context.componentParent.fields[t.colDef.field];if(!e)return r;var r=t.value;return r="boolean"==typeof r?+r:r,e&&e.options&&Object.keys(e.options).length&&e.options[r]?Iracode.t(e.options[r]):Iracode.t(r)},rowNumberFormatter:function(t){return t.value+(t.context.componentParent.paginationData.currentPage-1)*t.context.componentParent.paginationData.limit},radioFormatter:function(t){var e=t.context.componentParent.fields[t.colDef.field],r=t.value;return r="boolean"==typeof r?+r:r,e&&e.options&&Iracode.t(e.options[r])?Iracode.t(e.options[r]):Iracode.t(r)},checkboxFormatter:function(t){var e=t.value;return e="boolean"==typeof e?+e:e,Iracode.t(e)},relationFormatter:function(t){var e=o({},t.colDef),r=Iracode.getByDotNotation(t.data,e.field,"-");return Iracode.t(r)},dateFormatter:function(t){console.log(window.Iracode.$i18n);var e=o({},t.colDef),r=o({},t.data),n="".concat(e.field,"_").concat(window.Iracode.$i18n.locale);return r[n]?r[n]:t.value}}}}]);