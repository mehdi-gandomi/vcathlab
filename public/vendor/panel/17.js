(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1072:function(t,e,r){"use strict";r.r(e);var s=r(62),n=r.n(s),a=r(774),o=r(775),i=r(784);function l(t,e,r,s,n,a,o){try{var i=t[a](o),l=i.value}catch(t){return void r(t)}i.done?e(l):Promise.resolve(l).then(s,n)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(s,n){var a=t.apply(e,r);function o(t){l(a,s,n,o,i,"next",t)}function i(t){l(a,s,n,o,i,"throw",t)}o(void 0)}))}}var u={components:{},mixins:[o.a,i.a],data:function(){return{form:new a.a({email:"",master:"",email_verified_at:"",username:"",mobile:"",avatar_url:"",state:""}),model:"Modules\\AccessLevel\\Models\\User",inputs:{email:{type:"vs-input",field_type:"text"},master:{type:"vs-radio",field_type:"radio"},email_verified_at:{type:"persian-date-picker",field_type:"datetime"},username:{type:"vs-input",field_type:"text"},mobile:{type:"vs-input",field_type:"text"},avatar_url:{type:"vs-input",field_type:"text"},state:{type:"vs-radio",field_type:"radio"}},locales:window.config.locales}},props:{},computed:{},created:function(){var t=this;return c(n.a.mark((function e(){var r,s,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/accesslevel/api/users/".concat(t.$route.params.id));case 2:r=e.sent,(s=r.data).success&&(a=s.data,t.$store.dispatch("setCurrentResource",a),t.populateFormFields(a));case 5:case"end":return e.stop()}}),e)})))()},mounted:function(){},methods:{onSubmit:function(t){var e=this;return c(n.a.mark((function r(){return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.form.put("/accesslevel/api/users/".concat(e.$route.params.id));case 2:r.sent.success&&Iracode.success(e.__("User Updated Successfully")),"close"==t?e.$router.push("/accesslevel/users"):e.form.reset();case 5:case"end":return r.stop()}}),r)})))()}}},p=(r(990),r(53)),v=Object(p.a)(u,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mb-base update-form"},[r("vx-card",{scopedSlots:t._u([{key:"actions",fn:function(){return[r("vs-button",{attrs:{color:"primary",to:"/accesslevel/users",type:"filled"}},[t._v(t._s(t.__("Back")))])]},proxy:!0}])},[t._v(" "),r("form",{on:{submit:t.onSubmit}},[r("vs-row",{staticClass:"mb-6",attrs:{"vs-type":"flex","vs-w":"12"}},[r("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"6"}},[r("vs-row",{attrs:{"vs-type":"flex","vs-w":"12"}},[r("vs-col",{staticClass:"justify-end pr-5",attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"3"}},[r("span",[t._v(t._s(t.__("Email")))])]),t._v(" "),r("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"9"}},[r(t.inputs.email.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("email"),"danger-text":t.validationError("email"),name:"email",type:"text"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1)],1),t._v(" "),r("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"6"}},[r("vs-row",{attrs:{"vs-type":"flex","vs-w":"12"}},[r("vs-col",{staticClass:"justify-end pr-5",attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"3"}},[r("span",[t._v(t._s(t.__("Master")))]),t._v(" "),r("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),r("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"9"}},[r(t.inputs.master.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("master"),"danger-text":t.validationError("master"),name:"master",type:"radio"},model:{value:t.form.master,callback:function(e){t.$set(t.form,"master",e)},expression:"form.master"}})],1)],1)],1)],1),t._v(" "),r("vs-row",{staticClass:"mb-6",attrs:{"vs-type":"flex","vs-w":"12"}},[r("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"6"}},[r("vs-row",{attrs:{"vs-type":"flex","vs-w":"12"}},[r("vs-col",{staticClass:"justify-end pr-5",attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"3"}},[r("span",[t._v(t._s(t.__("Email Verified At")))])]),t._v(" "),r("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"9"}},[r(t.inputs.email_verified_at.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("email_verified_at"),"danger-text":t.validationError("email_verified_at"),name:"email_verified_at",type:"datetime"},model:{value:t.form.email_verified_at,callback:function(e){t.$set(t.form,"email_verified_at",e)},expression:"form.email_verified_at"}})],1)],1)],1),t._v(" "),r("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"6"}},[r("vs-row",{attrs:{"vs-type":"flex","vs-w":"12"}},[r("vs-col",{staticClass:"justify-end pr-5",attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"3"}},[r("span",[t._v(t._s(t.__("Username")))])]),t._v(" "),r("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"9"}},[r(t.inputs.username.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("username"),"danger-text":t.validationError("username"),name:"username",type:"text"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1)],1)],1)],1),t._v(" "),r("vs-row",{staticClass:"mb-6",attrs:{"vs-type":"flex","vs-w":"12"}},[r("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"6"}},[r("vs-row",{attrs:{"vs-type":"flex","vs-w":"12"}},[r("vs-col",{staticClass:"justify-end pr-5",attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"3"}},[r("span",[t._v(t._s(t.__("Mobile")))])]),t._v(" "),r("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"9"}},[r(t.inputs.mobile.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("mobile"),"danger-text":t.validationError("mobile"),name:"mobile",type:"text"},model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}})],1)],1)],1),t._v(" "),r("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"6"}},[r("vs-row",{attrs:{"vs-type":"flex","vs-w":"12"}},[r("vs-col",{staticClass:"justify-end pr-5",attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"3"}},[r("span",[t._v(t._s(t.__("Avatar Url")))])]),t._v(" "),r("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"9"}},[r(t.inputs.avatar_url.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("avatar_url"),"danger-text":t.validationError("avatar_url"),name:"avatar_url",type:"text"},model:{value:t.form.avatar_url,callback:function(e){t.$set(t.form,"avatar_url",e)},expression:"form.avatar_url"}})],1)],1)],1)],1),t._v(" "),r("vs-row",{staticClass:"mb-6",attrs:{"vs-type":"flex","vs-w":"12"}},[r("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"6"}},[r("vs-row",{attrs:{"vs-type":"flex","vs-w":"12"}},[r("vs-col",{staticClass:"justify-end pr-5",attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"3"}},[r("span",[t._v(t._s(t.__("State")))])]),t._v(" "),r("vs-col",{attrs:{"vs-type":"flex","vs-align":"center","vs-lg":"9"}},[r(t.inputs.state.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("state"),"danger-text":t.validationError("state"),name:"state",type:"radio"},model:{value:t.form.state,callback:function(e){t.$set(t.form,"state",e)},expression:"form.state"}})],1)],1)],1)],1),t._v(" "),r("div",{staticClass:"flex justify-end mt-16"},[r("div",{staticClass:"flex"},[r("vs-button",{staticClass:"mr-3 mb-2",attrs:{color:"success"},on:{click:function(){return t.onSubmit("close")}}},[t._v(t._s(t.__("Save")))]),t._v(" "),r("vs-button",{staticClass:"mb-2",attrs:{color:"warning"},on:{click:function(e){return t.form.reset()}}},[t._v(t._s(t.__("Clear")))])],1)])],1)])],1)}),[],!1,null,null,null);e.default=v.exports},774:function(t,e,r){"use strict";var s=r(536),n=r.n(s);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.a=function t(e){return a(this,t),new n.a(e,{http:window.Iracode.getHttp()})}},775:function(t,e,r){"use strict";var s=r(62),n=r.n(s);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t,e,r,s,n,a,o){try{var i=t[a](o),l=i.value}catch(t){return void r(t)}i.done?e(l):Promise.resolve(l).then(s,n)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(s,n){var a=t.apply(e,r);function o(t){l(a,s,n,o,i,"next",t)}function i(t){l(a,s,n,o,i,"throw",t)}o(void 0)}))}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a={data:function(){var t=this;return{uploadServer:{url:window.config.uploadBasePath,timeout:36e6,load:function(t,e,r,s,n,a){t.indexOf("/null")>-1&&(console.log("source",t),n());var o=new Request(t);fetch(o).then((function(t){t.blob().then((function(t){e(t)}))}))},process:{url:"/process",method:"POST",headers:{Authorization:"Bearer ".concat(this.$store.state.auth.accessToken),"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},withCredentials:!1,onload:function(e){return"object"!=u(e)&&(e=JSON.parse(e)),console.log(t.inputs[e.field_name],e.field_name),t.inputs[e.field_name].filepond_options["allow-multiple"]?t.form[e.field_name].push(e.key):t.form[e.field_name]=e.key,e.key},onerror:function(t){return t.data},ondata:function(e){return e.append("model",t.model),t.$route.params.id&&e.append("model_id",t.$route.params.id),e}},revert:"revert",restore:"restore",fetch:"fetch"}}},methods:{getRelationLabel:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];console.log(this,e)},onRelationSelect:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";this.inputs[t].selected=e,this.form[t]=e[r]},handleFilePondInit:function(){console.log("FilePond has initialized")},onSelect:function(t,e){this.inputs[t].selected=e,this.form[t]=e.value},onRelationSearch:function(t,e,r){var s=this;return c(n.a.mark((function a(){var o,i,l,c;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!=e){n.next=2;break}return n.abrupt("return");case 2:return r(!0),o=s.inputs[t],i={},o&&(i["filter[".concat(o.titleField,"]")]=e),n.next=8,s.$http.get(s.inputs[t].searchUrl,{params:i});case 8:if(l=n.sent,!(c=l.data).success){n.next=13;break}return s.inputs[t].options=c.data.items,n.abrupt("return",r(!1));case 13:s.inputs[t].options=[];case 14:case"end":return n.stop()}}),a)})))()},hasValidationError:function(t){return!(!this.form.errors||!this.form.errors.has(t))||void 0},validationError:function(t){return this.form.errors?this.form.errors.first(t):void 0},onSelectTableSearch:function(t,e){var r=this;return c(n.a.mark((function s(){var a,i;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.length){s.next=6;break}return s.next=3,r.$http.post("".concat(window.config.path_prefix,"/api/get_select_table"),o(o({},r.inputs[t].select_table_options),{},{search:e}));case 3:a=s.sent,i=a.data,r.inputs[t].options=i.data;case 6:case"end":return s.stop()}}),s)})))()}},created:function(){var t=this;return c(n.a.mark((function e(){var r,s,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("before create called"),e.t0=n.a.keys(t.inputs);case 2:if((e.t1=e.t0()).done){e.next=14;break}if(r=e.t1.value,"relation"!==t.inputs[r].field_type){e.next=12;break}return console.log(t.inputs[r]),e.next=8,t.$http.get(t.inputs[r].searchUrl);case 8:s=e.sent,(a=s.data).success&&(t.inputs[r].options=a.data.items),t.inputs[r].options.length&&(Array.isArray(t.inputs[r].selected)||(t.form[r]=t.inputs[r].options[0].id,t.inputs[r].selected=t.inputs[r].options[0]));case 12:e.next=2;break;case 14:case"end":return e.stop()}}),e)})))()}}},784:function(t,e,r){"use strict";var s=r(62),n=r.n(s);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e,r,s,n,a,o){try{var i=t[a](o),l=i.value}catch(t){return void r(t)}i.done?e(l):Promise.resolve(l).then(s,n)}e.a={created:function(){var t,e=this;return(t=n.a.mark((function t(){var r,s,a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n.a.keys(e.inputs);case 1:if((t.t1=t.t0()).done){t.next=12;break}if(r=t.t1.value,"relation"!==e.inputs[r].field_type){t.next=10;break}return console.log(e.inputs[r]),t.next=7,e.$http.get(e.inputs[r].searchUrl);case 7:s=t.sent,(a=s.data).success&&(e.inputs[r].options=a.data.items);case 10:t.next=1;break;case 12:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(s,n){var a=t.apply(e,r);function o(t){i(a,s,n,o,l,"next",t)}function l(t){i(a,s,n,o,l,"throw",t)}o(void 0)}))})()},methods:{populateFormFields:function(t){var e=this,r={},s=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},this.form);console.log("populating",s,t);var n=function(n){if(e.inputs[n])if("relation"==e.inputs[n].field_type){r[n]=void 0!==t[n]?t[n]:"",console.log(r[n]);var a=e.inputs[n].options.findIndex((function(e){return e.id==t[n]}));console.log("district",a,t[n],e.inputs[n].options),a>-1&&(e.inputs[n].selected=e.inputs[n].options[a])}else if("select"==e.inputs[n].field_type){r[n]=void 0!==t[n]?t[n]:"";var o=e.inputs[n].options.findIndex((function(e){return e.value==t[n]}));o>-1&&(e.inputs[n].selected=e.inputs[n].options[o])}else["filepond","filepond_image"].includes(e.inputs[n].field_type)?(e.inputs[n].files&&Array.isArray(e.inputs[n].files)&&(Array.isArray(t[n])?(console.log(t[n]),t[n].forEach((function(t){e.inputs[n].files.push({source:e.serverUrl(t),options:{type:"local",load:!1}})}))):e.inputs[n].files.push({source:e.serverUrl(t[n]),options:{type:"local",load:!1}})),Array.isArray(s[n])?r[n]=void 0!==t[n]?Array.isArray(t[n])?t[n]:[]:"":r[n]=void 0!==t[n]?t[n]:""):"password"!=e.inputs[n].field_type&&(r[n]=void 0!==t[n]?t[n]:"")};for(var i in s)n(i);this.form.populate(r)}}}},833:function(t,e,r){var s=r(991);"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(73)(s,n);s.locals&&(t.exports=s.locals)},990:function(t,e,r){"use strict";r(833)},991:function(t,e,r){(t.exports=r(72)(!1)).push([t.i,"\n.update-form .vs-tabs--content {\n  padding: 0;\n}\n",""])}}]);