(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{779:function(n,t,e){var r=e(899);"string"==typeof r&&(r=[[n.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};e(74)(r,a);r.locals&&(n.exports=r.locals)},898:function(n,t,e){"use strict";e(779)},899:function(n,t,e){(n.exports=e(73)(!1)).push([n.i,"\n.recorder-container {\n    text-align: center;\n    margin-top: 20px;\n    padding: 10px;\n    box-sizing: border-box;\n}\n.visualizer-canvas {\n    border: 1px solid #000;\n    width: 100%;\n    height: 100px;\n    margin-bottom: 20px;\n    background-color: #228B22;\n}\n.button-container {\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n    gap: 15px;\n}\n.or-container {\n    text-align: center;\n    margin: 20px 0;\n}\n.or-text {\n    font-size: 18px;\n    font-weight: bold;\n    color: #555;\n}\n.upload-container {\n    margin-top: 20px;\n}\n.upload-label {\n    display: block;\n    margin: 10px auto;\n    text-align: center;\n    font-size: 16px;\n    font-weight: bold;\n    background-color: #007bff;\n    color: white;\n    padding: 10px 20px;\n    border-radius: 5px;\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n}\n.upload-label:hover {\n    background-color: #0056b3;\n}\n.upload-input {\n    display: none;\n}\n.upload-instructions {\n    font-size: 14px;\n    color: #555;\n    text-align: center;\n}\n.record-button {\n    padding: 10px 20px;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n    font-size: 16px;\n    transition: background-color 0.3s ease;\n}\n.record-button.start {\n    background-color: #28a745;\n    color: white;\n}\n.record-button.stop {\n    background-color: #dc3545;\n    color: white;\n}\n.record-button:disabled {\n    background-color: #ccc;\n    cursor: not-allowed;\n}\n.record-button:hover:enabled {\n    opacity: 0.9;\n}\n.spinner-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin-top: 20px;\n}\n.spinner {\n    width: 50px;\n    height: 50px;\n    border: 5px solid #ccc;\n    border-top: 5px solid #555;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n}\n@keyframes spin {\n0% {\n        transform: rotate(0deg);\n}\n100% {\n        transform: rotate(360deg);\n}\n}\n.loading-text {\n    font-size: 18px;\n    font-weight: bold;\n    color: #555;\n    margin-top: 10px;\n}\n.description-input {\n    width: 100%;\n    height: 80px;\n    margin-top: 20px;\n    padding: 10px;\n    font-size: 16px;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    resize: none;\n}\n.calculate-button {\n    margin-top: 15px;\n    padding: 10px 20px;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n    font-size: 16px;\n    background-color: #007bff;\n    color: white;\n    transition: background-color 0.3s ease;\n}\n.calculate-button:hover {\n    background-color: #0056b3;\n}\n.calculate-button:disabled {\n    background-color: #ccc;\n    cursor: not-allowed;\n}\n.transcript-text {\n    font-size: 18px;\n    font-weight: bold;\n    margin-top: 20px;\n}\n.response-text {\n    font-size: 16px;\n    margin-top: 10px;\n}\n",""])},981:function(n,t,e){"use strict";e.r(t);var r=e(63),a=e.n(r),i=e(300),o=e.n(i);function s(n,t,e,r,a,i,o){try{var s=n[i](o),c=s.value}catch(n){return void e(n)}s.done?t(c):Promise.resolve(c).then(r,a)}function c(n){return function(){var t=this,e=arguments;return new Promise((function(r,a){var i=n.apply(t,e);function o(n){s(i,r,a,o,c,"next",n)}function c(n){s(i,r,a,o,c,"throw",n)}o(void 0)}))}}var d,l,p,u,h,g={data:function(){return{mediaRecorder:null,audioChunks:[],transcript:"",description:"",loading:!1,response:"",audioContext:null,analyser:null,dataArray:null,animationFrameId:null}},methods:{convertMarkdown:function(n){return n=(n=(n=(n=(n=(n=(n=(n=(n=n.replace(/^# (.+)$/gm,"<h1>$1</h1>")).replace(/^## (.+)$/gm,"<h2>$1</h2>")).replace(/^### (.+)$/gm,"<h3>$1</h3>")).replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>")).replace(/\*(.+?)\*/g,"<em>$1</em>")).replace(/\[(.+?)\]\((.+?)\)/g,'<a href="$2">$1</a>')).replace(/^- (.+)$/gm,"<li>$1</li>")).replace(/(<li>.*<\/li>)/g,"<ul>$1</ul>")).replace(/\n/g,"<br>")},startRecording:(h=c(a.a.mark((function n(){var t,e,r=this;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.audioChunks=[],n.next=3,navigator.mediaDevices.getUserMedia({audio:!0});case 3:t=n.sent,this.audioContext=new(window.AudioContext||window.webkitAudioContext),e=this.audioContext.createMediaStreamSource(t),this.analyser=this.audioContext.createAnalyser(),e.connect(this.analyser),this.analyser.fftSize=256,this.dataArray=new Uint8Array(this.analyser.frequencyBinCount),this.visualize(),this.mediaRecorder=new MediaRecorder(t),this.mediaRecorder.ondataavailable=function(n){r.audioChunks.push(n.data)},this.mediaRecorder.start();case 14:case"end":return n.stop()}}),n,this)}))),function(){return h.apply(this,arguments)}),visualize:function(){var n=this,t=this.$refs.visualizer,e=t.getContext("2d");t.width=t.parentElement.clientWidth,t.height=100;!function r(){n.analyser.getByteFrequencyData(n.dataArray),e.fillStyle="rgb(34, 139, 34)",e.fillRect(0,0,t.width,t.height);for(var a=t.width/n.dataArray.length*2.5,i=0,o=0;o<n.dataArray.length;o++){var s=n.dataArray[o];e.fillStyle="rgb(255, 255, 255)",e.fillRect(i,t.height-s/2,a,s/2),i+=a+1}n.animationFrameId=requestAnimationFrame(r)}()},uploadAudio:(u=c(a.a.mark((function n(t){var e,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(e=new FormData).append("file",t),this.loading=!0,n.prev=3,n.next=6,o.a.post("/user/api/gpt-transcript",e,{headers:{"Content-Type":"multipart/form-data"}});case 6:r=n.sent,this.transcript=r.data.transcript,n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),console.error("Error:",n.t0);case 13:return n.prev=13,this.loading=!1,n.finish(13);case 16:case"end":return n.stop()}}),n,this,[[3,10,13,16]])}))),function(n){return u.apply(this,arguments)}),handleFileUpload:(p=c(a.a.mark((function n(t){var e;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e=t.target.files[0])){n.next=5;break}return this.loading=!0,n.next=5,this.uploadAudio(e);case 5:case"end":return n.stop()}}),n,this)}))),function(n){return p.apply(this,arguments)}),sendToCompletion:(l=c(a.a.mark((function n(){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.transcript&&this.description){n.next=3;break}return alert("Please ensure both the transcript and description are filled."),n.abrupt("return");case 3:return this.loading=!0,n.prev=4,n.next=7,o.a.post("/user/api/gpt-completion",{transcript:this.transcript,description:this.description},{headers:{"Content-Type":"application/json"}});case 7:t=n.sent,this.response=t.data.response,n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),console.error("Error:",n.t0);case 14:return n.prev=14,this.loading=!1,n.finish(14);case 17:case"end":return n.stop()}}),n,this,[[4,11,14,17]])}))),function(){return l.apply(this,arguments)}),stopRecording:(d=c(a.a.mark((function n(){var t=this;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.mediaRecorder.stop(),cancelAnimationFrame(this.animationFrameId),this.loading=!0,this.mediaRecorder.onstop=c(a.a.mark((function n(){var e,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new Blob(t.audioChunks,{type:"audio/wav"}),r=new File([e],"recording.wav"),n.next=4,t.uploadAudio(r);case 4:case"end":return n.stop()}}),n)})));case 4:case"end":return n.stop()}}),n,this)}))),function(){return d.apply(this,arguments)})}},f=(e(898),e(53)),v=Object(f.a)(g,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"recorder-container"},[e("canvas",{ref:"visualizer",staticClass:"visualizer-canvas"}),n._v(" "),e("div",{staticClass:"button-container"},[e("button",{staticClass:"record-button start",attrs:{disabled:n.loading},on:{click:n.startRecording}},[n._v("Start Recording")]),n._v(" "),e("button",{staticClass:"record-button stop",attrs:{disabled:n.loading},on:{click:n.stopRecording}},[n._v("Stop Recording")])]),n._v(" "),n._m(0),n._v(" "),e("div",{staticClass:"upload-container"},[e("label",{staticClass:"upload-label"},[n._v("\n            Upload Audio\n            "),e("input",{staticClass:"upload-input",attrs:{type:"file",accept:"audio/*",disabled:n.loading},on:{change:n.handleFileUpload}})]),n._v(" "),e("p",{staticClass:"upload-instructions"},[n._v("Upload an audio file (MP3, OGG, WAV, etc.) or record your voice.")])]),n._v(" "),n.loading?e("div",{staticClass:"spinner-container"},[e("div",{staticClass:"spinner"}),n._v(" "),e("p",{staticClass:"loading-text"},[n._v("Processing, please wait...")])]):n._e(),n._v(" "),n.transcript?e("p",{staticClass:"transcript-text"},[n._v("Transcript: "+n._s(n.transcript))]):n._e(),n._v(" "),n.transcript?e("textarea",{directives:[{name:"model",rawName:"v-model",value:n.description,expression:"description"}],staticClass:"description-input",attrs:{placeholder:"Add a description..."},domProps:{value:n.description},on:{input:function(t){t.target.composing||(n.description=t.target.value)}}}):n._e(),n._v(" "),n.transcript?e("button",{staticClass:"calculate-button",attrs:{disabled:n.loading},on:{click:n.sendToCompletion}},[n._v("Calculate")]):n._e(),n._v(" "),n.response?e("div",{staticClass:"response-text"},[e("p",[n._v("Result: ")]),n._v(" "),e("div",{domProps:{innerHTML:n._s(n.convertMarkdown(n.response))}})]):n._e()])}),[function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"or-container"},[t("span",{staticClass:"or-text"},[this._v("OR")])])}],!1,null,null,null);t.default=v.exports}}]);