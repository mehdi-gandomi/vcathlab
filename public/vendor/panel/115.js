(window.webpackJsonp=window.webpackJsonp||[]).push([[115],{681:function(t,e,s){"use strict";s.r(e);var i=s(62),n=s.n(i),a=s(770),r=s(771),o=s(782);function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){d(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function p(t,e,s,i,n,a,r){try{var o=t[a](r),l=o.value}catch(t){return void s(t)}o.done?e(l):Promise.resolve(l).then(i,n)}function u(t){return function(){var e=this,s=arguments;return new Promise((function(i,n){var a=t.apply(e,s);function r(t){p(a,i,n,r,o,"next",t)}function o(t){p(a,i,n,r,o,"throw",t)}r(void 0)}))}}function d(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var v={components:d({},o.a.name,o.a),mixins:[r.a],data:function(){return{form:new a.a({title:"",icon_class:"",route:"",ordering:"",open_in_blank:!1,open_in_iframe:!1,description:"",state:!1,subsystem_id:""}),model:"Modules\\AccessLevel\\Models\\Menu",inputs:{title:{type:"vs-input",field_type:"text"},icon_class:{type:o.a.name,field_type:"text"},route:{type:"vs-input",field_type:"text"},ordering:{type:"vs-input",field_type:"number"},open_in_blank:{type:"vs-checkbox",field_type:"checkbox"},open_in_iframe:{type:"vs-checkbox",field_type:"checkbox"},description:{type:"vs-input",field_type:"text"},state:{type:"vs-checkbox",field_type:"checkbox"},subsystem_id:{field_type:"relation",foreign_key:"subsystem_id",relation_name:"subsystem",options:[],selected:{},searchUrl:"/accesslevel/api/subsystems",titleField:"title"},menu_id:{field_type:"relation",foreign_key:"menu_id",relation_name:"menu",options:[],selected:{},searchUrl:"/accesslevel/api/menus",titleField:"title"}}}},props:{},computed:{},created:function(){var t=this;return u(n.a.mark((function e(){var s,i,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/accesslevel/api/menus/".concat(t.$route.params.id));case 2:s=e.sent,(i=s.data).success&&(a=i.data,t.$store.dispatch("setCurrentResource",a),t.populateFormFields(a));case 5:case"end":return e.stop()}}),e)})))()},mounted:function(){},methods:{getFormData:function(t){t||(t=this.form);var e={},s=t.subsystem_id;return e.subsystem_id=/^\d+$/.test(s+"")?+s:+s.id,e.open_in_blank=!!t.open_in_blank,e.open_in_iframe=!!t.open_in_iframe,e.state=!!t.state,e.ordering=t.ordering||0,t.withData(c(c({},t.data()),e))},onSubmit:function(t){var e=this;return u(n.a.mark((function s(){var i;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.getFormData().put("/accesslevel/api/menus/".concat(e.$route.params.id));case 2:s.sent.success&&Iracode.success(e.__("Menu Updated Successfully")),"close"==t?(i="/accesslevel/menus",e.$route.query.subsystem_id&&(i+="?subsystem_id=".concat(e.$route.query.subsystem_id)),e.$router.push(i)):e.form.reset();case 5:case"end":return s.stop()}}),s)})))()},populateFormFields:function(t){var e={},s=c({},this.form);for(var i in s)if(this.inputs[i])if("relation"==this.inputs[i].field_type){e[i]=t[i]?t[i]:"";var n=this.inputs[i].options.findIndex((function(t){return 2==t.id}));n>-1&&(this.inputs[i].selected=this.inputs[i].options[n])}else"password"!=this.inputs[i].field_type&&(e[i]=t[i]?t[i]:"");this.form.populate(e)}}},_=s(53),f=Object(_.a)(v,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mb-base"},[s("vx-card",{scopedSlots:t._u([{key:"actions",fn:function(){return[s("vs-button",{attrs:{color:"primary",to:"/accesslevel/menus",type:"filled"}},[t._v(t._s(t.__("Back")))])]},proxy:!0}])},[t._v(" "),s("form",{on:{submit:t.onSubmit}},[s("div",{staticClass:"vx-row mb-6"}),t._v(" "),s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[s("span",[t._v(t._s(t.__("عنوان")))]),t._v(" "),s("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[s(t.inputs.title.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("title"),"danger-text":t.validationError("title"),name:"title",type:"text"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)])]),t._v(" "),s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[s("span",[t._v(t._s(t.__("آیکن")))])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[s(t.inputs.icon_class.type,{tag:"component",attrs:{name:"icon_class",height:"85px"},model:{value:t.form.icon_class,callback:function(e){t.$set(t.form,"icon_class",e)},expression:"form.icon_class"}})],1)])])]),t._v(" "),s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[s("span",[t._v(t._s(t.__("لینک")))])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[s(t.inputs.route.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("route"),"danger-text":t.validationError("route"),name:"route",type:"text",placeholder:t.__("با / شروع می‌شود"),dir:"ltr"},model:{value:t.form.route,callback:function(e){t.$set(t.form,"route",e)},expression:"form.route"}})],1)])]),t._v(" "),s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[s("span",[t._v(t._s(t.__("ترتیب نمایش")))]),t._v(" "),s("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[s(t.inputs.ordering.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("ordering"),"danger-text":t.validationError("ordering"),name:"ordering",type:"number"},model:{value:t.form.ordering,callback:function(e){t.$set(t.form,"ordering",e)},expression:"form.ordering"}})],1)])])]),t._v(" "),s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[s("span",[t._v(t._s(t.__("نمایش در تب جدید")))]),t._v(" "),s("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[s(t.inputs.open_in_blank.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("open_in_blank"),"danger-text":t.validationError("open_in_blank"),name:"open_in_blank",type:"checkbox"},model:{value:t.form.open_in_blank,callback:function(e){t.$set(t.form,"open_in_blank",e)},expression:"form.open_in_blank"}})],1)])]),t._v(" "),s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[s("span",[t._v(t._s(t.__("نمایش در iFrame")))]),t._v(" "),s("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[s(t.inputs.open_in_iframe.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("open_in_iframe"),"danger-text":t.validationError("open_in_iframe"),name:"open_in_iframe",type:"checkbox"},model:{value:t.form.open_in_iframe,callback:function(e){t.$set(t.form,"open_in_iframe",e)},expression:"form.open_in_iframe"}})],1)])])]),t._v(" "),s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[s("span",[t._v(t._s(t.__("توضیحات")))])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[s(t.inputs.description.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("description"),"danger-text":t.validationError("description"),name:"description",type:"text"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)])]),t._v(" "),s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[s("span",[t._v(t._s(t.__("State")))]),t._v(" "),s("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[s(t.inputs.state.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("state"),"danger-text":t.validationError("state"),name:"state",type:"checkbox"},model:{value:t.form.state,callback:function(e){t.$set(t.form,"state",e)},expression:"form.state"}})],1)])])]),t._v(" "),s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[s("span",[t._v(t._s(t.__("subsystem")))]),t._v(" "),s("span",{staticClass:"ml-1 text-red-100"},[t._v("*")])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[s("v-select",{attrs:{value:t.inputs.subsystem_id.selected,label:"title",filterable:!1,options:t.inputs.subsystem_id.options},on:{input:function(e){return t.onRelationSelect("subsystem_id",e)},search:function(e,s){return t.onRelationSearch("subsystem_id",e,s)}}},[s("template",{slot:"no-options"},[t._v("\n                  "+t._s(t.__("Type to search"))+"\n                ")])],2)],1)])]),t._v(" "),s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[s("span",[t._v(t._s(t.__("menu")))])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[s("v-select",{attrs:{value:t.inputs.menu_id.selected,label:"title",filterable:!1,options:t.inputs.menu_id.options},on:{input:function(e){return t.onRelationSelect("menu_id",e)},search:function(e,s){return t.onRelationSearch("menu_id",e,s)}}},[s("template",{slot:"no-options"},[t._v("\n                  "+t._s(t.__("Type to search"))+"\n                ")])],2)],1)])]),t._v(" "),s("div",{staticClass:"flex justify-end mt-16"},[s("div",{staticClass:"flex"},[s("vs-button",{staticClass:"mr-3 mb-2",attrs:{color:"success"},on:{click:function(){return t.onSubmit("close")}}},[t._v(t._s(t.__("Save")))]),t._v(" "),s("vs-button",{staticClass:"mb-2",attrs:{color:"warning"},on:{click:function(e){return t.form.reset()}}},[t._v(t._s(t.__("Clear")))])],1)])])])],1)}),[],!1,null,null,null);e.default=f.exports}}]);