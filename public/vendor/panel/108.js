(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{678:function(t,e,s){"use strict";s.r(e);var i=s(62),n=s.n(i),a=s(766),o=s(767),r=s(778);function l(t,e,s,i,n,a,o){try{var r=t[a](o),l=r.value}catch(t){return void s(t)}r.done?e(l):Promise.resolve(l).then(i,n)}function c(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function u(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?c(Object(s),!0).forEach((function(e){v(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function v(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var d={components:v({},r.a.name,r.a),mixins:[o.a],data:function(){return{form:new a.a({title:"",icon_class:"",route:"",ordering:"",open_in_blank:!1,open_in_iframe:!1,description:"",state:!1,subsystem_id:""}),model:"Modules\\AccessLevel\\Models\\Menu",locale:window.Iracode.$i18n.locale,inputs:{title:{type:"vs-input"},icon_class:{type:r.a.name},route:{type:"vs-input"},ordering:{type:"vs-input"},open_in_blank:{type:"vs-checkbox"},open_in_iframe:{type:"vs-checkbox"},description:{type:"vs-input"},state:{type:"vs-checkbox"},subsystem_id:{field_type:"relation",options:[],selected:{},foreign_key:"subsystem_id",relation_name:"subsystem",searchUrl:"/accesslevel/api/subsystems",titleField:"title",afterLoad:function(t){this.$route.query.subsystem_id&&(this.form.subsystem_id=this.$route.query.subsystem_id,this.inputs.subsystem_id.selected=+this.$route.query.subsystem_id)}},menu_id:{field_type:"relation",options:[],selected:{},foreign_key:"menu_id",relation_name:"menu",searchUrl:"/accesslevel/api/menus",titleField:"title"}}}},props:{},computed:{},created:function(){},mounted:function(){},methods:{getFormData:function(t){t||(t=this.form);var e={},s=t.subsystem_id;return e.subsystem_id=/^\d+$/.test(s+"")?+s:+(null==s?void 0:s.id),e.open_in_blank=t.open_in_blank,e.open_in_iframe=t.open_in_iframe,e.state=t.state,e.ordering=t.ordering||0,t.withData(u(u({},t.data()),e))},onSubmit:function(t){var e,s=this;return(e=n.a.mark((function e(){var i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getFormData().post("/accesslevel/api/menus");case 2:e.sent.success&&(Iracode.success(s.__("Menu Created Successfully")),"close"==t?(i="/accesslevel/menus",s.$route.query.subsystem_id&&(i+="?subsystem_id=".concat(s.$route.query.subsystem_id)),s.$router.push(i)):s.form.reset());case 4:case"end":return e.stop()}}),e)})),function(){var t=this,s=arguments;return new Promise((function(i,n){var a=e.apply(t,s);function o(t){l(a,i,n,o,r,"next",t)}function r(t){l(a,i,n,o,r,"throw",t)}o(void 0)}))})()}}},_=s(53),p=Object(_.a)(d,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mb-base"},[s("vx-card",{scopedSlots:t._u([{key:"actions",fn:function(){return[s("vs-button",{attrs:{color:"primary",to:"/accesslevel/menus",type:"filled"}},[t._v(t._s(t.__("Back")))])]},proxy:!0}])},[t._v(" "),s("form",{on:{submit:t.onSubmit}},[s("div",{staticClass:"vx-row mb-6"}),t._v(" "),s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[s("span",[t._v(t._s(t.__("عنوان")))]),t._v(" "),s("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[s(t.inputs.title.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("title"),"danger-text":t.validationError("title"),name:"title",type:"text"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)])]),t._v(" "),s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[s("span",[t._v(t._s(t.__("آیکن")))])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[s(t.inputs.icon_class.type,{tag:"component",attrs:{name:"icon_class",height:"85px"},model:{value:t.form.icon_class,callback:function(e){t.$set(t.form,"icon_class",e)},expression:"form.icon_class"}})],1)])])]),t._v(" "),s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[s("span",[t._v(t._s(t.__("لینک")))])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[s(t.inputs.route.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("route"),"danger-text":t.validationError("route"),name:"route",type:"text",placeholder:t.__("با / شروع می‌شود"),dir:"ltr"},model:{value:t.form.route,callback:function(e){t.$set(t.form,"route",e)},expression:"form.route"}})],1)])]),t._v(" "),s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[s("span",[t._v(t._s(t.__("ترتیب نمایش")))]),t._v(" "),s("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[s(t.inputs.ordering.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("ordering"),"danger-text":t.validationError("ordering"),name:"ordering",type:"number"},model:{value:t.form.ordering,callback:function(e){t.$set(t.form,"ordering",e)},expression:"form.ordering"}})],1)])])]),t._v(" "),s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[s("span",[t._v(t._s(t.__("نمایش در تب جدید")))]),t._v(" "),s("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[s(t.inputs.open_in_blank.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("open_in_blank"),"danger-text":t.validationError("open_in_blank"),name:"open_in_blank",type:"checkbox"},model:{value:t.form.open_in_blank,callback:function(e){t.$set(t.form,"open_in_blank",e)},expression:"form.open_in_blank"}})],1)])]),t._v(" "),s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[s("span",[t._v(t._s(t.__("نمایش در iFrame")))]),t._v(" "),s("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[s(t.inputs.open_in_iframe.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("open_in_iframe"),"danger-text":t.validationError("open_in_iframe"),name:"open_in_iframe",type:"checkbox"},model:{value:t.form.open_in_iframe,callback:function(e){t.$set(t.form,"open_in_iframe",e)},expression:"form.open_in_iframe"}})],1)])])]),t._v(" "),s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[s("span",[t._v(t._s(t.__("توضیحات")))])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[s(t.inputs.description.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("description"),"danger-text":t.validationError("description"),name:"description",type:"text"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)])]),t._v(" "),s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[s("span",[t._v(t._s(t.__("State")))]),t._v(" "),s("span",{staticClass:"ml-1 text-red"},[t._v("*")])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[s(t.inputs.state.type,{tag:"component",staticClass:"w-full",attrs:{danger:t.hasValidationError("state"),"danger-text":t.validationError("state"),name:"state",type:"checkbox"},model:{value:t.form.state,callback:function(e){t.$set(t.form,"state",e)},expression:"form.state"}})],1)])])]),t._v(" "),s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[s("span",[t._v(t._s(t.__("subsystem")))]),t._v(" "),s("span",{staticClass:"ml-1 text-red-100"},[t._v("*")])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[s("v-select",{attrs:{label:"title",filterable:!1,options:t.inputs.subsystem_id.options,reduce:function(t){return t.id}},on:{search:function(e,s){return t.onRelationSearch("subsystem_id",e,s)}},model:{value:t.form.subsystem_id,callback:function(e){t.$set(t.form,"subsystem_id",e)},expression:"form.subsystem_id"}},[s("template",{slot:"no-options"},[t._v("\n                  "+t._s(t.__("Type to search"))+"\n                ")])],2)],1)])]),t._v(" "),s("div",{staticClass:"vx-col w-1/2"},[s("div",{staticClass:"row flex"},[s("div",{staticClass:"vx-col w-1/4 pr-5 flex justify-end items-center"},[s("span",[t._v(t._s(t.__("menu")))])]),t._v(" "),s("div",{staticClass:"vx-col w-3/4"},[s("v-select",{attrs:{value:t.inputs.menu_id.selected,label:"title",filterable:!1,options:t.inputs.menu_id.options},on:{input:function(e){return t.onRelationSelect("menu_id",e)},search:function(e,s){return t.onRelationSearch("menu_id",e,s)}}},[s("template",{slot:"no-options"},[t._v("\n                  "+t._s(t.__("Type to search"))+"\n                ")])],2)],1)])]),t._v(" "),s("div",{staticClass:"flex justify-end mt-16"},[s("div",{staticClass:"flex"},[s("vs-button",{staticClass:"mr-3 mb-2",attrs:{color:"success"},on:{click:function(){return t.onSubmit("new")}}},[t._v(t._s(t.__("Save and new")))]),t._v(" "),s("vs-button",{staticClass:"mr-3 mb-2",attrs:{color:"success"},on:{click:function(){return t.onSubmit("close")}}},[t._v(t._s(t.__("Save and close")))]),t._v(" "),s("vs-button",{staticClass:"mb-2",attrs:{color:"warning"},on:{click:function(e){return t.form.reset()}}},[t._v(t._s(t.__("Clear")))])],1)])])])],1)}),[],!1,null,null,null);e.default=p.exports}}]);